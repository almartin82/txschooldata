[{"path":[]},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"commit-and-pr-guidelines","dir":"","previous_headings":"","what":"Commit and PR Guidelines","title":"Claude Code Instructions for txschooldata","text":"include “Generated Claude Code” commit messages include “Co-Authored-: Claude” commit messages mention Claude AI assistance PR descriptions Keep commit messages clean professional","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"project-context","dir":"","previous_headings":"","what":"Project Context","title":"Claude Code Instructions for txschooldata","text":"R package fetching processing Texas school data Texas Education Agency (TEA).","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"key-data-characteristics","dir":"","previous_headings":"Project Context","what":"Key Data Characteristics","title":"Claude Code Instructions for txschooldata","text":"Data Source: Texas Education Agency (TEA) https://tea.texas.gov/reports--data District IDs: 6 digits (e.g., 101912 Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number) Primary Data System: PEIMS (Public Education Information Management System) Number Districts: ~1,209","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"package-structure","dir":"","previous_headings":"","what":"Package Structure","title":"Claude Code Instructions for txschooldata","text":"package follows patterns ilschooldata: - fetch_enrollment.R - Main user-facing function - get_raw_enrollment.R - Download raw data TEA - process_enrollment.R - Process raw data standard schema - tidy_enrollment.R - Transform long format - cache.R - Local caching functions","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"txschooldata Product Requirements Document","text":"txschooldata R package fetching, processing, analyzing school data Texas Education Agency (TEA). provides programmatic interface PEIMS (Public Education Information Management System) data, enabling researchers, analysts, education policy professionals easily access Texas public school data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"the-problem","dir":"","previous_headings":"Background","what":"The Problem","title":"txschooldata Product Requirements Document","text":"Texas public school data scattered across multiple TEA reports data files, inconsistent formats across years. Researchers analysts spend significant time: - Finding correct data files TEA website - Understanding changing file formats column names - Writing custom parsing code data file - Dealing suppressed values data quality issues","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"the-opportunity","dir":"","previous_headings":"Background","what":"The Opportunity","title":"txschooldata Product Requirements Document","text":"well-designed R package can: - Provide single, consistent API accessing Texas school data - Handle format changes transparently across years - Cache data locally reduce repeated downloads - Transform data analysis-ready tidy format","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"tac-611040---state-data-reporting-requirements","dir":"","previous_headings":"Regulatory Context","what":"TAC 61.1040 - State Data Reporting Requirements","title":"txschooldata Product Requirements Document","text":"Texas Administrative Code (TAC) 61.1040 establishes requirements educational data reporting. Districts must submit data PEIMS, creating standardized data collection package can leverage.","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"september-2025-bid-threshold-change","dir":"","previous_headings":"Regulatory Context","what":"September 2025 Bid Threshold Change","title":"txschooldata Product Requirements Document","text":"Texas procurement bid threshold changing $100,000 September 2025 ($50,000). affects: - District purchasing decisions data analytics tools - Potential market opportunity self-service data tools - Timing considerations package development marketing","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"primary-source-texas-education-agency-tea","dir":"","previous_headings":"Data Sources","what":"Primary Source: Texas Education Agency (TEA)","title":"txschooldata Product Requirements Document","text":"Website: https://tea.texas.gov/reports--data Key Data Collections: Comprehensive student, staff, financial data Submitted districts fall, mid-year, summer, extended-year Available : https://tea.texas.gov/reports--data/school-data/peims-data School district performance data Demographic breakdowns Available : https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting Student counts grade, demographic, program Historical data available","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id-system","dir":"","previous_headings":"Data Sources","what":"ID System","title":"txschooldata Product Requirements Document","text":"Texas uses hierarchical ID system: First 3 digits: County-district number Last 3 digits: District within county Example: 101912 = Austin ISD (Travis County) First 6 digits: District ID Last 3 digits: Campus number within district Example: 101912001 = First campus Austin ISD","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"data-scope","dir":"","previous_headings":"Data Sources","what":"Data Scope","title":"txschooldata Product Requirements Document","text":"Number Districts: ~1,209 (2023-24) Number Campuses: ~9,000+ Student Population: ~5.5 million students Historical Data: Generally available back 2005 earlier","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id_1-enrollment-data","dir":"","previous_headings":"Functional Requirements > Core Functions","what":"1. Enrollment Data","title":"txschooldata Product Requirements Document","text":"","code":"# Fetch enrollment data for a given school year fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)  # Get raw enrollment data (internal) get_raw_enr(end_year)  # Process raw data to standard schema (internal) process_enr(df, end_year)  # Transform to tidy format tidy_enr(df)"},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id_2-caching","dir":"","previous_headings":"Functional Requirements > Core Functions","what":"2. Caching","title":"txschooldata Product Requirements Document","text":"","code":"# Check if cached data exists cache_exists(end_year, type)  # Read from cache read_cache(end_year, type)  # Write to cache write_cache(df, end_year, type)  # Clear cache clear_cache(end_year = NULL, type = NULL)"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"dependencies","dir":"","previous_headings":"Technical Requirements","what":"Dependencies","title":"txschooldata Product Requirements Document","text":"R >= 4.0 dplyr, tidyr, purrr (tidyverse data manipulation) readxl, readr (file reading) downloader (robust file downloads) rappdirs (cross-platform cache directory) stringr (string manipulation) rlang (programming utilities)","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"caching","dir":"","previous_headings":"Technical Requirements","what":"Caching","title":"txschooldata Product Requirements Document","text":"Use rappdirs::user_cache_dir(\"txschooldata\") cache location Store .rds files fast R-native read/write Cache key: {type}_{end_year}.rds Provide cache management functions","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"error-handling","dir":"","previous_headings":"Technical Requirements","what":"Error Handling","title":"txschooldata Product Requirements Document","text":"Graceful degradation TEA website unavailable Clear error messages invalid year parameters Warnings data quality issues (suppression, etc.)","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"performance","dir":"","previous_headings":"Non-Functional Requirements","what":"Performance","title":"txschooldata Product Requirements Document","text":"First fetch: < 30 seconds per year Cached fetch: < 1 second Memory: Handle full state dataset (~100K rows)","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"compatibility","dir":"","previous_headings":"Non-Functional Requirements","what":"Compatibility","title":"txschooldata Product Requirements Document","text":"R >= 4.0 Cross-platform (Windows, macOS, Linux) Work tidyverse workflows","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"documentation","dir":"","previous_headings":"Non-Functional Requirements","what":"Documentation","title":"txschooldata Product Requirements Document","text":"Roxygen2 documentation exported functions Package vignettes common use cases Examples function documentation","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-1-core-enrollment-data-mvp","dir":"","previous_headings":"Implementation Phases","what":"Phase 1: Core Enrollment Data (MVP)","title":"txschooldata Product Requirements Document","text":"Basic fetch_enr() recent years (2020+) Local caching Tidy format transformation Basic documentation","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-2-historical-data","dir":"","previous_headings":"Implementation Phases","what":"Phase 2: Historical Data","title":"txschooldata Product Requirements Document","text":"Support legacy file formats (pre-2020) Handle format changes across years Consistent schema across years","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-3-additional-data-types","dir":"","previous_headings":"Implementation Phases","what":"Phase 3: Additional Data Types","title":"txschooldata Product Requirements Document","text":"STAAR assessment data Staff/teacher data Financial data Graduation/dropout rates","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-4-advanced-features","dir":"","previous_headings":"Implementation Phases","what":"Phase 4: Advanced Features","title":"txschooldata Product Requirements Document","text":"Multi-year data fetching Data validation quality checks Cohort tracking utilities Enrollment projections","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"success-metrics","dir":"","previous_headings":"","what":"Success Metrics","title":"txschooldata Product Requirements Document","text":"Successfully fetch data available years 100% exported functions documented Test coverage > 80% CRAN-ready (pass R CMD check)","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"references","dir":"","previous_headings":"","what":"References","title":"txschooldata Product Requirements Document","text":"Texas Education Agency: https://tea.texas.gov PEIMS Data Standards: https://tea.texas.gov/reports--data/data-submission/peims TEA Data Portal: https://tea.texas.gov/reports--data TAC 61.1040: https://texreg.sos.state.tx.us/public/readtac$ext.TacPage?sl=R&app=9&p_dir=&p_rloc=&p_tloc=&p_ploc=&pg=1&p_tac=&ti=19&pt=2&ch=61&rl=1040","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Quality Analysis","text":"vignette performs quality assurance checks Texas public school enrollment data Texas Education Agency (TEA). analyze statewide trends examine data major districts identify anomalies data quality issues.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"data-coverage","dir":"Articles","previous_headings":"","what":"Data Coverage","title":"Data Quality Analysis","text":"TEA enrollment data available TAPR (Texas Academic Performance Reports) system 2020 onwards via current download interface.","code":"library(txschooldata) library(dplyr) library(ggplot2) library(scales)"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"multi-year-download","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Multi-Year Download","title":"Data Quality Analysis","text":"","code":"# Download enrollment data for available years years <- 2020:2024 enr_multi <- fetch_enr_multi(years)  # State-level total enrollment by year state_totals <- enr_multi %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   arrange(end_year)  print(state_totals) ##   end_year n_students ## 1     2020    5479173 ## 2     2021    5359040 ## 3     2022    5402928 ## 4     2023    5504150 ## 5     2024    5517464"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"statewide-enrollment-trend","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Statewide Enrollment Trend","title":"Data Quality Analysis","text":"","code":"state_totals %>%   ggplot(aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#003366\") +   geom_point(size = 3, color = \"#003366\") +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(     title = \"Texas Public School Enrollment\",     subtitle = \"Total K-12 enrollment, 2020-2024\",     x = \"School Year (End)\",     y = \"Total Students\",     caption = \"Source: Texas Education Agency TAPR\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\", size = 14),     panel.grid.minor = element_blank()   )"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"year-over-year-changes","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Year-over-Year Changes","title":"Data Quality Analysis","text":"","code":"# Calculate year-over-year changes state_changes <- state_totals %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (change / prev_year) * 100   ) %>%   filter(!is.na(prev_year))  print(state_changes) ##   end_year n_students prev_year  change pct_change ## 1     2021    5359040   5479173 -120133 -2.1925389 ## 2     2022    5402928   5359040   43888  0.8189526 ## 3     2023    5504150   5402928  101222  1.8734656 ## 4     2024    5517464   5504150   13314  0.2418902 # Flag any jumps greater than 5% large_changes <- state_changes %>%   filter(abs(pct_change) > 5)  if (nrow(large_changes) > 0) {   cat(\"\\n** DATA QUALITY ALERT: Year-over-year changes exceeding 5%:\\n\")   print(large_changes) } else {   cat(\"\\n** All year-over-year changes are within +/- 5% threshold.\\n\") } ##  ## ** All year-over-year changes are within +/- 5% threshold."},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"major-district-analysis","dir":"Articles","previous_headings":"","what":"Major District Analysis","title":"Data Quality Analysis","text":"Texas 1,200 school districts. focus 5 largest urban districts detailed quality checks: Houston ISD (101912) - Largest district Texas Dallas ISD (057905) - Second largest San Antonio ISD (015907) - Major urban district Fort Worth ISD (220905) - Major urban district Austin ISD (227901) - State capital","code":"# Define major districts to analyze major_districts <- tibble(   district_id = c(\"101912\", \"057905\", \"015907\", \"220905\", \"227901\"),   district_label = c(\"Houston ISD\", \"Dallas ISD\", \"San Antonio ISD\",                      \"Fort Worth ISD\", \"Austin ISD\") )  # Extract enrollment for major districts district_trends <- enr_multi %>%   filter(     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\",     district_id %in% major_districts$district_id   ) %>%   left_join(major_districts, by = \"district_id\") %>%   select(end_year, district_id, district_label, n_students) %>%   arrange(district_label, end_year)  # Display current enrollment current_enrollment <- district_trends %>%   filter(end_year == max(end_year)) %>%   arrange(desc(n_students))  print(current_enrollment) ##   end_year district_id  district_label n_students ## 1     2024      101912     Houston ISD     183603 ## 2     2024      057905      Dallas ISD     139096 ## 3     2024      227901      Austin ISD      72739 ## 4     2024      220905  Fort Worth ISD      70903 ## 5     2024      015907 San Antonio ISD      44635"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"district-enrollment-trends","dir":"Articles","previous_headings":"Major District Analysis","what":"District Enrollment Trends","title":"Data Quality Analysis","text":"","code":"district_trends %>%   ggplot(aes(x = end_year, y = n_students, color = district_label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = comma) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Major Texas District Enrollment Trends\",     subtitle = \"2020-2024 school years\",     x = \"School Year (End)\",     y = \"Total Students\",     color = \"District\",     caption = \"Source: Texas Education Agency TAPR\"   ) +   theme_minimal() +   theme(     legend.position = \"right\",     plot.title = element_text(face = \"bold\", size = 14),     panel.grid.minor = element_blank()   )"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"district-year-over-year-changes","dir":"Articles","previous_headings":"Major District Analysis","what":"District Year-over-Year Changes","title":"Data Quality Analysis","text":"","code":"district_changes <- district_trends %>%   group_by(district_label) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = round((change / prev_year) * 100, 2)   ) %>%   filter(!is.na(prev_year)) %>%   ungroup()  # Pivot to show changes by year district_change_summary <- district_changes %>%   select(district_label, end_year, pct_change) %>%   tidyr::pivot_wider(names_from = end_year, values_from = pct_change)  print(district_change_summary) ## # A tibble: 5 × 2 ##   district_label  `2024` ##   <chr>            <dbl> ## 1 Austin ISD       -9.89 ## 2 Dallas ISD       -9.55 ## 3 Fort Worth ISD  -14.3  ## 4 Houston ISD     -12.3  ## 5 San Antonio ISD  -7.96 # Flag large changes large_district_changes <- district_changes %>%   filter(abs(pct_change) > 5)  if (nrow(large_district_changes) > 0) {   cat(\"\\n** DATA QUALITY ALERT: District changes exceeding 5%:\\n\")   print(large_district_changes %>%         select(district_label, end_year, n_students, change, pct_change)) } else {   cat(\"\\n** All major district changes are within +/- 5% threshold.\\n\") } ##  ## ** DATA QUALITY ALERT: District changes exceeding 5%: ## # A tibble: 5 × 5 ##   district_label  end_year n_students change pct_change ##   <chr>              <int>      <dbl>  <dbl>      <dbl> ## 1 Austin ISD          2024      72739  -7979      -9.89 ## 2 Dallas ISD          2024     139096 -14688      -9.55 ## 3 Fort Worth ISD      2024      70903 -11801     -14.3  ## 4 Houston ISD         2024     183603 -25706     -12.3  ## 5 San Antonio ISD     2024      44635  -3860      -7.96"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"demographic-breakdown-validation","dir":"Articles","previous_headings":"","what":"Demographic Breakdown Validation","title":"Data Quality Analysis","text":"Check demographic subgroups sum approximately total enrollment:","code":"# Get 2024 state demographic data state_2024 <- enr_multi %>%   filter(is_state, end_year == 2024, grade_level == \"TOTAL\") %>%   select(subgroup, n_students)  # Total enrollment total <- state_2024 %>%   filter(subgroup == \"total_enrollment\") %>%   pull(n_students)  # Race/ethnicity subgroups race_groups <- c(\"white\", \"black\", \"hispanic\", \"asian\",                  \"native_american\", \"pacific_islander\", \"multiracial\") race_sum <- state_2024 %>%   filter(subgroup %in% race_groups) %>%   summarize(sum = sum(n_students, na.rm = TRUE)) %>%   pull(sum)  cat(\"Total Enrollment:\", comma(total), \"\\n\") ## Total Enrollment: 5,517,464 cat(\"Sum of Race/Ethnicity Groups:\", comma(race_sum), \"\\n\") ## Sum of Race/Ethnicity Groups: 5,517,464 cat(\"Difference:\", comma(total - race_sum),     \"(\", round((total - race_sum) / total * 100, 2), \"%)\\n\") ## Difference: 0 ( 0 %) # This difference may be due to students with unknown race/ethnicity if (abs(total - race_sum) / total > 0.05) {   cat(\"\\n** DATA QUALITY NOTE: Race/ethnicity categories don't sum to total.\\n\")   cat(\"   This may indicate missing demographic data or students with unknown race.\\n\") }"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"grade-level-validation","dir":"Articles","previous_headings":"","what":"Grade Level Validation","title":"Data Quality Analysis","text":"Check individual grade enrollments sum approximately total enrollment:","code":"# Get grade-level enrollment for 2024 state grades <- c(\"EE\", \"PK\", \"K\", \"01\", \"02\", \"03\", \"04\", \"05\",             \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")  grade_sum <- enr_multi %>%   filter(is_state, end_year == 2024,          subgroup == \"total_enrollment\",          grade_level %in% grades) %>%   summarize(sum = sum(n_students, na.rm = TRUE)) %>%   pull(sum)  cat(\"Total Enrollment:\", comma(total), \"\\n\") ## Total Enrollment: 5,517,464 cat(\"Sum of Grade Levels:\", comma(grade_sum), \"\\n\") ## Sum of Grade Levels: 5,517,464 cat(\"Difference:\", comma(total - grade_sum),     \"(\", round((total - grade_sum) / total * 100, 2), \"%)\\n\") ## Difference: 0 ( 0 %) if (abs(total - grade_sum) / total > 0.05) {   cat(\"\\n** DATA QUALITY NOTE: Grade levels don't sum to total.\\n\")   cat(\"   This may indicate ungraded students or data reporting differences.\\n\") }"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"issues-identified","dir":"Articles","previous_headings":"Data Quality Summary","what":"Issues Identified","title":"Data Quality Analysis","text":"","code":"issues <- character()  # Check for large state-level changes if (nrow(large_changes) > 0) {   issues <- c(issues, paste(     \"Statewide enrollment changes >5% in:\",     paste(large_changes$end_year, collapse = \", \")   )) }  # Check for large district changes if (nrow(large_district_changes) > 0) {   issues <- c(issues, paste(     \"Major district changes >5%:\",     nrow(large_district_changes), \"instances\"   )) }  # Print summary cat(\"=== Data Quality Summary ===\\n\\n\") ## === Data Quality Summary === cat(\"Years Analyzed:\", min(years), \"-\", max(years), \"\\n\") ## Years Analyzed: 2020 - 2024 cat(\"Total State Records:\", comma(nrow(enr_multi)), \"\\n\") ## Total State Records: 1,281,090 cat(\"Districts in Dataset:\",     enr_multi %>% filter(is_district) %>% distinct(district_id) %>% nrow(), \"\\n\") ## Districts in Dataset: 2428 cat(\"Campuses in Dataset:\",     enr_multi %>% filter(is_campus) %>% distinct(campus_id) %>% nrow(), \"\\n\\n\") ## Campuses in Dataset: 18756 if (length(issues) > 0) {   cat(\"Issues Found:\\n\")   for (issue in issues) {     cat(\"  -\", issue, \"\\n\")   } } else {   cat(\"No major data quality issues identified.\\n\") } ## Issues Found: ##   - Major district changes >5%: 5 instances"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"data-source","dir":"Articles","previous_headings":"Notes","what":"Data Source","title":"Data Quality Analysis","text":"data comes Texas Education Agency’s TAPR (Texas Academic Performance Reports) system: https://rptsvr1.tea.texas.gov/perfreport/tapr/","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"known-limitations","dir":"Articles","previous_headings":"Notes","what":"Known Limitations","title":"Data Quality Analysis","text":"Historical Data: current download interface supports years 2020 later. Earlier years may require different data sources. COVID-19 Impact: 2020-2021 school year saw significant enrollment disruptions due COVID-19 pandemic. unusual patterns period interpreted context. Charter Schools: Charter school data included district totals. is_charter flag can used separate traditional public schools charter operators. Data Masking: TEA applies data masking protect student privacy small subgroups. Masked values appear NA data.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"update-schedule","dir":"Articles","previous_headings":"Notes","what":"Update Schedule","title":"Data Quality Analysis","text":"TEA releases TAPR data annually, typically fall following end school year. 2023-24 data (end_year = 2024) represents recent complete school year.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"covid-erased-a-decade-of-growth-in-one-year","dir":"Articles","previous_headings":"","what":"1. COVID Erased a Decade of Growth in One Year","title":"10 Things You Didn't Know About Texas Schools","text":"pandemic caused largest single-year enrollment drop Texas history. 2020 2021, Texas public schools lost 120,133 students—equivalent entire enrollment El Paso ISD, 7th largest district state.  Enrollment since recovered, surpassing pre-pandemic levels 2023. demographic composition recovery tells different story.","code":"state_trend <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = round(change / lag(n_students) * 100, 2)   )  print(state_trend) ##   end_year n_students  change pct_change ## 1     2020    5479173      NA         NA ## 2     2021    5359040 -120133      -2.19 ## 3     2022    5402928   43888       0.82 ## 4     2023    5504150  101222       1.87 ## 5     2024    5517464   13314       0.24 ggplot(state_trend, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#003366\") +   geom_point(size = 3, color = \"#003366\") +   geom_segment(aes(x = 2020, xend = 2021, y = 5479173, yend = 5359040),                color = \"#CC0000\", linewidth = 1.2, linetype = \"dashed\") +   annotate(\"text\", x = 2020.5, y = 5380000, label = \"-120,133\",            color = \"#CC0000\", fontface = \"bold\", size = 4) +   scale_y_continuous(labels = comma, limits = c(5300000, 5600000)) +   labs(     title = \"Texas Public School Enrollment\",     subtitle = \"The COVID dip and slow recovery\",     x = \"School Year (End)\", y = \"Total Students\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"one-in-four-students-is-now-an-english-learner","dir":"Articles","previous_headings":"","what":"2. One in Four Students is Now an English Learner","title":"10 Things You Didn't Know About Texas Schools","text":"proportion Limited English Proficient (LEP) students grew 4.1 percentage points just five years—20.3% 24.4% students. single largest demographic shift data.  profound implications staffing, curriculum, resource allocation across state. Schools need ESL teachers, bilingual programs, translated materials ever .","code":"lep_trend <- enr %>%   filter(is_state, subgroup == \"lep\", grade_level == \"TOTAL\") %>%   select(end_year, n_students, pct) %>%   mutate(pct_display = round(pct * 100, 1))  print(lep_trend %>% select(end_year, n_students, pct_display)) ##   end_year n_students pct_display ## 1     2020    1112674        20.3 ## 2     2021    1108207        20.7 ## 3     2022    1171661        21.7 ## 4     2023    1269408        23.1 ## 5     2024    1344804        24.4 ggplot(lep_trend, aes(x = end_year, y = pct * 100)) +   geom_line(linewidth = 1.2, color = \"#E69F00\") +   geom_point(size = 3, color = \"#E69F00\") +   geom_hline(yintercept = 25, linetype = \"dashed\", color = \"gray50\") +   annotate(\"text\", x = 2024.3, y = 25.5, label = \"1 in 4\", color = \"gray40\", size = 3.5) +   scale_y_continuous(limits = c(19, 27)) +   labs(     title = \"Rise of English Learners\",     subtitle = \"LEP students as % of total enrollment\",     x = \"School Year (End)\", y = \"Percent\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"coppell-isd-is-texass-first-asian-majority-school-district","dir":"Articles","previous_headings":"","what":"3. Coppell ISD is Texas’s First Asian-Majority School District","title":"10 Things You Didn't Know About Texas Schools","text":"striking demographic shift, Coppell ISD became Texas’s first Asian-majority public school district, 56.7% students identifying Asian 2024. Nearby Frisco ISD close behind 42.6%—33.6% just three years.  districts Dallas-Fort Worth metroplex reflect changing immigration migration patterns, significant growth families India, China, Asian countries.","code":"# Districts with highest Asian percentage asian_top <- enr %>%   filter(is_district, subgroup == \"asian\", grade_level == \"TOTAL\", end_year == 2024) %>%   inner_join(     enr %>% filter(is_district, subgroup == \"total_enrollment\",                    grade_level == \"TOTAL\", end_year == 2024) %>%       select(district_id, total = n_students),     by = \"district_id\"   ) %>%   filter(total >= 10000) %>%   arrange(desc(pct)) %>%   select(district_name, total, n_students, pct) %>%   mutate(pct = round(pct * 100, 1)) %>%   head(10)  print(asian_top) ##     district_name total n_students  pct ## 1     COPPELL ISD 13394       7591 56.7 ## 2      FRISCO ISD 66551      28349 42.6 ## 3     PROSPER ISD 28394       8312 29.3 ## 4       ALLEN ISD 21319       6201 29.1 ## 5   FORT BEND ISD 80034      22080 27.6 ## 6       PLANO ISD 47753      11207 23.5 ## 7  ROUND ROCK ISD 46042      10126 22.0 ## 8        KATY ISD 94589      16311 17.2 ## 9       WYLIE ISD 19166       3227 16.8 ## 10 LEWISVILLE ISD 48356       8123 16.8 # Frisco's Asian population growth frisco_asian <- enr %>%   filter(grepl(\"FRISCO\", district_name), is_district,          grade_level == \"TOTAL\", subgroup == \"asian\") %>%   select(end_year, n_students, pct) %>%   mutate(pct = round(pct * 100, 1))  ggplot(frisco_asian, aes(x = end_year, y = pct)) +   geom_line(linewidth = 1.2, color = \"#CC79A7\") +   geom_point(size = 3, color = \"#CC79A7\") +   geom_text(aes(label = paste0(pct, \"%\")), vjust = -0.8, size = 3.5) +   scale_y_continuous(limits = c(30, 50)) +   labs(     title = \"Frisco ISD: Asian Student Growth\",     subtitle = \"Percentage of total enrollment\",     x = \"School Year (End)\", y = \"Percent Asian\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"fort-worth-isd-lost-14-of-its-students","dir":"Articles","previous_headings":"","what":"4. Fort Worth ISD Lost 14% of Its Students","title":"10 Things You Didn't Know About Texas Schools","text":"statewide enrollment recovered COVID, urban districts continue hemorrhage students. Fort Worth ISD lost 11,801 students (-14.3%), making fastest-declining large district Texas. Houston ISD’s absolute loss 25,706 students represents students 90% Texas districts even enroll.","code":"# Calculate 2020-2024 changes d2020 <- enr %>%   filter(is_district, subgroup == \"total_enrollment\",          grade_level == \"TOTAL\", end_year == 2020) %>%   select(district_id, n_2020 = n_students)  d2024 <- enr %>%   filter(is_district, subgroup == \"total_enrollment\",          grade_level == \"TOTAL\", end_year == 2024) %>%   select(district_id, district_name, n_2024 = n_students)  losses <- d2020 %>%   inner_join(d2024, by = \"district_id\") %>%   mutate(     change = n_2024 - n_2020,     pct_change = round((change / n_2020) * 100, 1)   )  # Largest percentage losses among big districts losses %>%   filter(n_2020 >= 10000) %>%   arrange(pct_change) %>%   select(district_name, n_2020, n_2024, change, pct_change) %>%   head(10) ##      district_name n_2020 n_2024 change pct_change ## 1   FORT WORTH ISD  82704  70903 -11801      -14.3 ## 2       ALDINE ISD  67130  57737  -9393      -14.0 ## 3  BROWNSVILLE ISD  42989  37032  -5957      -13.9 ## 4   HARLANDALE ISD  13654  11781  -1873      -13.7 ## 5       YSLETA ISD  40404  34875  -5529      -13.7 ## 6       LAREDO ISD  23665  20557  -3108      -13.1 ## 7        ALIEF ISD  45281  39451  -5830      -12.9 ## 8      HOUSTON ISD 209309 183603 -25706      -12.3 ## 9      LA JOYA ISD  27276  23995  -3281      -12.0 ## 10     ABILENE ISD  16456  14482  -1974      -12.0"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"idea-public-schools-grew-24-in-three-years","dir":"Articles","previous_headings":"","what":"5. IDEA Public Schools Grew 24% in Three Years","title":"10 Things You Didn't Know About Texas Schools","text":"IDEA Public Schools, charter network operating across Texas, grew 62,158 76,819 students 2021 2024—gain 14,661 students (+23.6%). Charter networks suburban districts absorbing students declining urban districts, fundamentally reshaping Texas public education.","code":"idea <- enr %>%   filter(district_name == \"IDEA PUBLIC SCHOOLS\", is_district,          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   arrange(end_year)  print(idea) ##   end_year n_students ## 1     2021      62158 ## 2     2022      67988 ## 3     2023      74217 ## 4     2024      76819 # Top growing large districts growth <- losses %>%   filter(n_2020 >= 5000) %>%   arrange(desc(pct_change))  growth %>%   select(district_name, n_2020, n_2024, change, pct_change) %>%   head(10) ##                  district_name n_2020 n_2024 change pct_change ## 1               HALLSVILLE ISD  11452  21266   9814       85.7 ## 2                  PROSPER ISD  16789  28394  11605       69.1 ## 3                PRINCETON ISD   5414   8671   3257       60.2 ## 4                CLEVELAND ISD   7559  11945   4386       58.0 ## 5          IDEA PUBLIC SCHOOLS  49480  76819  27339       55.3 ## 6            MEDINA VALLEY ISD   5847   8656   2809       48.0 ## 7         PREMIER HIGH SCHOOLS   5345   7819   2474       46.3 ## 8  YES PREP PUBLIC SCHOOLS INC  12074  17622   5548       45.9 ## 9                   FORNEY ISD  11944  16962   5018       42.0 ## 10              ROYSE CITY ISD   6585   9338   2753       41.8"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"fort-bend-isd-a-district-with-no-majority","dir":"Articles","previous_headings":"","what":"6. Fort Bend ISD: A District With No Majority","title":"10 Things You Didn't Know About Texas Schools","text":"Fort Bend ISD one diverse school districts America. racial group exceeds 28% enrollment—White (13.2%), Black (27.8%), Hispanic (26.7%), Asian (27.6%) students nearly equally represented.","code":"fb_demo <- enr %>%   filter(district_name == \"FORT BEND ISD\", is_district, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   select(end_year, subgroup, pct) %>%   mutate(pct = round(pct * 100, 1)) %>%   pivot_wider(names_from = subgroup, values_from = pct)  print(fb_demo) ## # A tibble: 4 × 5 ##   end_year white black hispanic asian ##      <int> <dbl> <dbl>    <dbl> <dbl> ## 1     2021  14.8  27.5     26.4  27.3 ## 2     2022  14.7  27.8     26.6  26.7 ## 3     2023  13.8  27.8     26.7  27.3 ## 4     2024  13.2  27.8     26.7  27.6 # Fort Bend demographics over time enr %>%   filter(district_name == \"FORT BEND ISD\", is_district, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   mutate(pct = pct * 100) %>%   ggplot(aes(x = end_year, y = pct, fill = subgroup)) +   geom_area(alpha = 0.8) +   scale_fill_manual(     values = c(\"asian\" = \"#CC79A7\", \"black\" = \"#009E73\",                \"hispanic\" = \"#0072B2\", \"white\" = \"#E69F00\"),     labels = c(\"Asian\", \"Black\", \"Hispanic\", \"White\")   ) +   labs(     title = \"Fort Bend ISD: A District With No Majority\",     subtitle = \"Demographic composition 2021-2024\",     x = \"School Year\", y = \"Percent\", fill = NULL   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"kindergarten-enrollment-dropped-5-8","dir":"Articles","previous_headings":"","what":"7. Kindergarten Enrollment Dropped 5.8%","title":"10 Things You Didn't Know About Texas Schools","text":"Kindergarten enrollment fell 383,585 361,329—drop 22,256 students (-5.8%). signal declining birth rates, rising private school enrollment, families delaying school entry. Pre-K also dropped, high school grades grew. pipeline narrowing entry point—trend ripple system years.","code":"grade_trend <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"PK\", \"K\", \"01\", \"05\", \"09\", \"12\")) %>%   select(end_year, grade_level, n_students) %>%   pivot_wider(names_from = end_year, values_from = n_students) %>%   mutate(     change = `2024` - `2020`,     pct_change = round(change / `2020` * 100, 1)   )  print(grade_trend) ## # A tibble: 6 × 8 ##   grade_level `2020` `2021` `2022` `2023` `2024` change pct_change ##   <chr>        <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>      <dbl> ## 1 PK          248413 196560 222767 243493 247979   -434       -0.2 ## 2 K           383585 360865 370054 367180 361329 -22256       -5.8 ## 3 01          391175 380973 384494 399048 385096  -6079       -1.6 ## 4 05          417272 395436 387945 395111 399200 -18072       -4.3 ## 5 09          448929 436396 475437 477875 472595  23666        5.3 ## 6 12          352258 362888 360056 364317 365788  13530        3.8"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"of-students-are-economically-disadvantaged","dir":"Articles","previous_headings":"","what":"8. 62% of Students Are Economically Disadvantaged","title":"10 Things You Didn't Know About Texas Schools","text":"share economically disadvantaged students grew 60.3% 62.3%—nearly two-thirds students Texas public schools.  large districts serve even higher concentrations low-income students.","code":"econ_trend <- enr %>%   filter(is_state, subgroup == \"econ_disadv\", grade_level == \"TOTAL\") %>%   select(end_year, n_students, pct) %>%   mutate(pct = round(pct * 100, 1))  print(econ_trend) ##   end_year n_students  pct ## 1     2020    3303974 60.3 ## 2     2021    3229178 60.3 ## 3     2022    3278452 60.7 ## 4     2023    3415987 62.1 ## 5     2024    3434955 62.3 ggplot(econ_trend, aes(x = end_year, y = pct)) +   geom_col(fill = \"#56B4E9\", width = 0.6) +   geom_hline(yintercept = 50, linetype = \"dashed\", color = \"gray50\") +   geom_text(aes(label = paste0(pct, \"%\")), vjust = -0.3, size = 3.5) +   scale_y_continuous(limits = c(0, 70)) +   labs(     title = \"Economically Disadvantaged Students\",     subtitle = \"Percentage of total enrollment\",     x = \"School Year (End)\", y = \"Percent\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"white-students-dropped-below-25","dir":"Articles","previous_headings":"","what":"9. White Students Dropped Below 25%","title":"10 Things You Didn't Know About Texas Schools","text":"White enrollment declined 27.0% 25.0% total enrollment—2 percentage point drop just five years. Meanwhile, Hispanic (53.2%) Asian (5.4%) shares continue grow.","code":"demo_shift <- enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\", \"multiracial\")) %>%   select(end_year, subgroup, pct) %>%   mutate(pct = round(pct * 100, 1)) %>%   pivot_wider(names_from = subgroup, values_from = pct)  print(demo_shift) ## # A tibble: 5 × 6 ##   end_year white black hispanic asian multiracial ##      <int> <dbl> <dbl>    <dbl> <dbl>       <dbl> ## 1     2020  27    12.6     52.8   4.6         2.5 ## 2     2021  26.5  12.7     52.9   4.7         2.7 ## 3     2022  26.3  12.8     52.8   4.8         2.9 ## 4     2023  25.6  12.8     53     5.1         3   ## 5     2024  25    12.8     53.2   5.4         3.1 enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   mutate(pct = pct * 100) %>%   ggplot(aes(x = end_year, y = pct, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_color_manual(     values = c(\"hispanic\" = \"#0072B2\", \"white\" = \"#E69F00\",                \"black\" = \"#009E73\", \"asian\" = \"#CC79A7\"),     labels = c(\"Asian\", \"Black\", \"Hispanic\", \"White\")   ) +   labs(     title = \"Texas Public School Demographics\",     x = \"School Year (End)\", y = \"Percent of Enrollment\",     color = NULL   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"districts-now-have-hispanic-majorities","dir":"Articles","previous_headings":"","what":"10. 439 Districts Now Have Hispanic Majorities","title":"10 Things You Didn't Know About Texas Schools","text":"number districts Hispanic students majority grew 419 2020 439 2024—now 36% Texas districts. 29 districts flipped non-majority Hispanic majority 2020 2024.","code":"hisp_majority <- enr %>%   filter(is_district, subgroup == \"hispanic\", grade_level == \"TOTAL\") %>%   mutate(majority = pct > 0.5) %>%   group_by(end_year) %>%   summarize(     total_districts = n(),     hispanic_majority = sum(majority),     pct_majority = round(hispanic_majority / total_districts * 100, 1),     .groups = \"drop\"   )  print(hisp_majority) ## # A tibble: 5 × 4 ##   end_year total_districts hispanic_majority pct_majority ##      <int>           <int>             <int>        <dbl> ## 1     2020            1202               419         34.9 ## 2     2021            1204               428         35.5 ## 3     2022            1207               433         35.9 ## 4     2023            1209               438         36.2 ## 5     2024            1207               439         36.4"},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"10 Things You Didn't Know About Texas Schools","text":"ten findings illustrate rapid transformation Texas public education: data tells story suburbanization, rising poverty, linguistic diversity, demographic transformation shape Texas education decades come.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/district-hooks.html","id":"explore-the-data","dir":"Articles","previous_headings":"","what":"Explore the Data","title":"10 Things You Didn't Know About Texas Schools","text":"Use txschooldata explore patterns :","code":"library(txschooldata) library(dplyr)  # Fetch 2024 data enr <- fetch_enr(2024)  # Your district's demographics enr %>%   filter(district_name == \"YOUR DISTRICT NAME\", grade_level == \"TOTAL\") %>%   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with txschooldata","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/txschooldata\")"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Getting Started with txschooldata","text":"Data returned tidy (long) format default. row one subgroup one entity (state/district/campus).","code":"library(txschooldata) library(dplyr)  # Fetch 2024 data (2023-24 school year) enr <- fetch_enr(2024)"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"filtering-by-level","dir":"Articles","previous_headings":"","what":"Filtering by Level","title":"Getting Started with txschooldata","text":"","code":"# State totals enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # All districts enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # All campuses enr |>   filter(is_campus, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"top-districts","dir":"Articles","previous_headings":"","what":"Top Districts","title":"Getting Started with txschooldata","text":"","code":"enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"demographics-for-one-district","dir":"Articles","previous_headings":"","what":"Demographics for One District","title":"Getting Started with txschooldata","text":"","code":"# Austin ISD demographics enr |>   filter(     district_id == \"101912\",     is_district,     grade_level == \"TOTAL\",     subgroup != \"total_enrollment\"   ) |>   arrange(desc(n_students)) |>   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"multi-year-trends","dir":"Articles","previous_headings":"","what":"Multi-Year Trends","title":"Getting Started with txschooldata","text":"","code":"enr_multi <- fetch_enr_multi(2020:2024)  # State enrollment trend enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"wide-format","dir":"Articles","previous_headings":"","what":"Wide Format","title":"Getting Started with txschooldata","text":"one column per demographic:","code":"enr_wide <- fetch_enr(2024, tidy = FALSE)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"visualization","dir":"Articles","previous_headings":"","what":"Visualization","title":"Getting Started with txschooldata","text":"","code":"library(ggplot2) library(scales)  enr_multi <- fetch_enr_multi(2020:2024)  # Demographics over time enr_multi |>   filter(     is_state,     subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\"),     grade_level == \"TOTAL\"   ) |>   ggplot(aes(x = end_year, y = pct, color = subgroup)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = percent_format()) +   labs(     title = \"Texas Public School Demographics\",     x = \"School Year\", y = \"Percent\", color = NULL   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"available-subgroups","dir":"Articles","previous_headings":"","what":"Available Subgroups","title":"Getting Started with txschooldata","text":"Demographics: white, black, hispanic, asian, native_american, pacific_islander, multiracial Special Populations: special_ed, lep (English learners), econ_disadv Totals: total_enrollment","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with txschooldata","text":"","code":"# View cached files cache_status()  # Clear all cached data clear_cache()  # Clear specific year clear_cache(2024)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with txschooldata","text":"See 10 Things Didn’t Know Texas Schools analysis examples Use ?fetch_enr complete function documentation","code":""},{"path":"https://almartin82.github.io/txschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/txschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2025). txschooldata: Fetch Process Texas School Data. R package version 0.1.0, https://almartin82.github.io/txschooldata/.","code":"@Manual{,   title = {txschooldata: Fetch and Process Texas School Data},   author = {Al Martin},   year = {2025},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/txschooldata/}, }"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"txschooldata","dir":"","previous_headings":"","what":"txschooldata - Texas School Enrollment Data","title":"txschooldata - Texas School Enrollment Data","text":"R package fetching processing Texas school enrollment data Texas Education Agency (TEA). Documentation: https://almartin82.github.io/txschooldata/","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"txschooldata - Texas School Enrollment Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/txschooldata\")"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"what-can-you-find-with-txschooldata","dir":"","previous_headings":"","what":"What can you find with txschooldata?","title":"txschooldata - Texas School Enrollment Data","text":"Texas public schools enroll 5.5 million students across 1,200+ districts. One function call pulls R: ten narratives hiding numbers.","code":"library(txschooldata) library(dplyr) library(tidyr) library(ggplot2) library(scales)  # Grab 5 years of enrollment data enr <- fetch_enr_multi(2020:2024)"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_1-covid-erased-a-decade-of-growth-in-one-year","dir":"","previous_headings":"What can you find with txschooldata?","what":"1. COVID erased a decade of growth in one year","title":"txschooldata - Texas School Enrollment Data","text":"-120,133 students vanished 2020 2021—equivalent entire enrollment El Paso ISD.","code":"enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   mutate(change = n_students - lag(n_students)) #>   end_year n_students  change #> 1     2020    5479173      NA #> 2     2021    5359040 -120133 #> 3     2022    5402928   43888 #> 4     2023    5504150  101222 #> 5     2024    5517464   13314"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_2-one-in-four-students-is-now-an-english-learner","dir":"","previous_headings":"What can you find with txschooldata?","what":"2. One in four students is now an English learner","title":"txschooldata - Texas School Enrollment Data","text":"20.3% 24.4% five years. Schools need ESL teachers ever.","code":"lep <- enr |>   filter(is_state, subgroup == \"lep\", grade_level == \"TOTAL\") |>   select(end_year, n_students, pct) |>   mutate(pct = round(pct * 100, 1))  lep #>   end_year n_students  pct #> 1     2020    1112674 20.3 #> 2     2021    1108207 20.7 #> 3     2022    1171661 21.7 #> 4     2023    1269408 23.1 #> 5     2024    1344804 24.4 ggplot(lep, aes(end_year, pct)) +   geom_line(linewidth = 1.2, color = \"#E69F00\") +   geom_point(size = 3, color = \"#E69F00\") +   geom_hline(yintercept = 25, linetype = \"dashed\", color = \"gray50\") +   scale_y_continuous(limits = c(19, 27)) +   labs(title = \"LEP students as % of enrollment\", x = NULL, y = NULL) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_3-coppell-isd-is-texass-first-asian-majority-district","dir":"","previous_headings":"What can you find with txschooldata?","what":"3. Coppell ISD is Texas’s first Asian-majority district","title":"txschooldata - Texas School Enrollment Data","text":"56.7% Asian. Frisco ISD jumped 33.6% 42.6% just three years.","code":"enr |>   filter(is_district, subgroup == \"asian\", grade_level == \"TOTAL\", end_year == 2024) |>   inner_join(     enr |> filter(is_district, subgroup == \"total_enrollment\",                   grade_level == \"TOTAL\", end_year == 2024) |>       select(district_id, total = n_students),     by = \"district_id\"   ) |>   filter(total >= 10000) |>   arrange(desc(pct)) |>   mutate(pct = round(pct * 100, 1)) |>   select(district_name, total, pct) |>   head(8) #>    district_name total  pct #> 1    COPPELL ISD 13394 56.7 #> 2     FRISCO ISD 66551 42.6 #> 3    PROSPER ISD 28394 29.3 #> 4      ALLEN ISD 21319 29.1 #> 5  FORT BEND ISD 80034 27.6 #> 6      PLANO ISD 47753 23.5 #> 7 ROUND ROCK ISD 46042 22.0 #> 8       KATY ISD 94589 17.2"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_4-fort-worth-isd-lost-14-of-its-students","dir":"","previous_headings":"What can you find with txschooldata?","what":"4. Fort Worth ISD lost 14% of its students","title":"txschooldata - Texas School Enrollment Data","text":"Urban districts bleeding students suburbs charters.","code":"d2020 <- enr |>   filter(is_district, subgroup == \"total_enrollment\",          grade_level == \"TOTAL\", end_year == 2020) |>   select(district_id, n_2020 = n_students)  d2024 <- enr |>   filter(is_district, subgroup == \"total_enrollment\",          grade_level == \"TOTAL\", end_year == 2024) |>   select(district_id, district_name, n_2024 = n_students)  d2020 |>   inner_join(d2024, by = \"district_id\") |>   mutate(change = n_2024 - n_2020, pct = round(change / n_2020 * 100, 1)) |>   filter(n_2020 >= 10000) |>   arrange(pct) |>   select(district_name, n_2020, n_2024, change, pct) |>   head(8) #>     district_name n_2020 n_2024 change   pct #> 1  FORT WORTH ISD  82704  70903 -11801 -14.3 #> 2      ALDINE ISD  67130  57737  -9393 -14.0 #> 3 BROWNSVILLE ISD  42989  37032  -5957 -13.9 #> 4  HARLANDALE ISD  13654  11781  -1873 -13.7 #> 5      YSLETA ISD  40404  34875  -5529 -13.7 #> 6      LAREDO ISD  23665  20557  -3108 -13.1 #> 7       ALIEF ISD  45281  39451  -5830 -12.9 #> 8     HOUSTON ISD 209309 183603 -25706 -12.3"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_5-idea-public-schools-grew-24-in-three-years","dir":"","previous_headings":"What can you find with txschooldata?","what":"5. IDEA Public Schools grew 24% in three years","title":"txschooldata - Texas School Enrollment Data","text":"62,158 76,819 students. Charter networks reshaping Texas education.","code":"enr |>   filter(district_name == \"IDEA PUBLIC SCHOOLS\", is_district,          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2021      62158 #> 2     2022      67988 #> 3     2023      74217 #> 4     2024      76819"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_6-fort-bend-isd-has-no-racial-majority","dir":"","previous_headings":"What can you find with txschooldata?","what":"6. Fort Bend ISD has no racial majority","title":"txschooldata - Texas School Enrollment Data","text":"group exceeds 28%. One diverse large districts America.","code":"enr |>   filter(district_name == \"FORT BEND ISD\", is_district, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\"), end_year == 2024) |>   mutate(pct = round(pct * 100, 1)) |>   select(subgroup, pct) |>   arrange(desc(pct)) #>   subgroup  pct #> 1    black 27.8 #> 2    asian 27.6 #> 3 hispanic 26.7 #> 4    white 13.2"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_7-kindergarten-enrollment-dropped-58","dir":"","previous_headings":"What can you find with txschooldata?","what":"7. Kindergarten enrollment dropped 5.8%","title":"txschooldata - Texas School Enrollment Data","text":"-22,256 kindergartners since 2020. pipeline narrowing.","code":"enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"PK\", \"K\", \"01\", \"09\", \"12\")) |>   select(end_year, grade_level, n_students) |>   pivot_wider(names_from = end_year, values_from = n_students) |>   mutate(change = `2024` - `2020`, pct = round(change / `2020` * 100, 1)) #> # A tibble: 5 × 8 #>   grade_level `2020` `2021` `2022` `2023` `2024` change   pct #>   <chr>        <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl> <dbl> #> 1 PK          248413 196560 222767 243493 247979   -434  -0.2 #> 2 K           383585 360865 370054 367180 361329 -22256  -5.8 #> 3 01          391175 380973 384494 399048 385096  -6079  -1.6 #> 4 09          448929 436396 475437 477875 472595  23666   5.3 #> 5 12          352258 362888 360056 364317 365788  13530   3.8"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_8-62-of-students-are-economically-disadvantaged","dir":"","previous_headings":"What can you find with txschooldata?","what":"8. 62% of students are economically disadvantaged","title":"txschooldata - Texas School Enrollment Data","text":"60.3%. Nearly two-thirds Texas students qualify.","code":"econ <- enr |>   filter(is_state, subgroup == \"econ_disadv\", grade_level == \"TOTAL\") |>   mutate(pct = round(pct * 100, 1)) |>   select(end_year, n_students, pct)  econ #>   end_year n_students  pct #> 1     2020    3303974 60.3 #> 2     2021    3229178 60.3 #> 3     2022    3278452 60.7 #> 4     2023    3415987 62.1 #> 5     2024    3434955 62.3 ggplot(econ, aes(end_year, pct)) +   geom_col(fill = \"#56B4E9\", width = 0.6) +   geom_text(aes(label = paste0(pct, \"%\")), vjust = -0.3, size = 3.5) +   scale_y_continuous(limits = c(0, 70)) +   labs(title = \"Economically disadvantaged students (%)\", x = NULL, y = NULL) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_9-white-students-dropped-below-25","dir":"","previous_headings":"What can you find with txschooldata?","what":"9. White students dropped below 25%","title":"txschooldata - Texas School Enrollment Data","text":"Hispanic students now 53.2% enrollment.","code":"enr |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) |>   mutate(pct = round(pct * 100, 1)) |>   select(end_year, subgroup, pct) |>   pivot_wider(names_from = subgroup, values_from = pct) #> # A tibble: 5 × 5 #>   end_year white black hispanic asian #>      <dbl> <dbl> <dbl>    <dbl> <dbl> #> 1     2020  27    12.6     52.8   4.6 #> 2     2021  26.5  12.7     52.9   4.7 #> 3     2022  26.3  12.8     52.8   4.8 #> 4     2023  25.6  12.8     53     5.1 #> 5     2024  25    12.8     53.2   5.4 enr |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) |>   mutate(pct = pct * 100) |>   ggplot(aes(end_year, pct, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_color_manual(     values = c(\"hispanic\" = \"#0072B2\", \"white\" = \"#E69F00\",                \"black\" = \"#009E73\", \"asian\" = \"#CC79A7\"),     labels = c(\"Asian\", \"Black\", \"Hispanic\", \"White\")   ) +   labs(title = \"Demographics over time\", x = NULL, y = \"Percent\", color = NULL) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"id_10-439-districts-now-have-hispanic-majorities","dir":"","previous_headings":"What can you find with txschooldata?","what":"10. 439 districts now have Hispanic majorities","title":"txschooldata - Texas School Enrollment Data","text":"419 2020. Now 36% Texas school districts.","code":"enr |>   filter(is_district, subgroup == \"hispanic\", grade_level == \"TOTAL\") |>   group_by(end_year) |>   summarize(     total_districts = n(),     hispanic_majority = sum(pct > 0.5),     pct_majority = round(hispanic_majority / total_districts * 100, 1)   ) #> # A tibble: 5 × 4 #>   end_year total_districts hispanic_majority pct_majority #>      <dbl>           <int>             <int>        <dbl> #> 1     2020            1202               419         34.9 #> 2     2021            1204               428         35.5 #> 3     2022            1207               433         35.9 #> 4     2023            1209               438         36.2 #> 5     2024            1207               439         36.4"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn more","title":"txschooldata - Texas School Enrollment Data","text":"Full analysis charts Getting started guide Function reference","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"data-source","dir":"","previous_headings":"","what":"Data source","title":"txschooldata - Texas School Enrollment Data","text":"data Texas Education Agency TAPR system.","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"txschooldata - Texas School Enrollment Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the txschooldata cache — clear_cache","title":"Clear the txschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the txschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the txschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the txschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the txschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Create state-level aggregate district data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":null,"dir":"Reference","previous_headings":"","what":"Download combined TAPR reference and student data — download_tapr_combined","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"Downloads data TEA's TAPR system using GET requests SAS broker. function retrieves reference (ID, name) student (enrollment) data single request.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"","code":"download_tapr_combined(end_year, sumlev)"},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"end_year School year end sumlev Summary level: \"C\" campus, \"D\" district","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"Data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Texas enrollment data — fetch_enr","title":"Fetch Texas enrollment data — fetch_enr","text":"Downloads processes enrollment data Texas Education Agency PEIMS data files via TAPR (Texas Academic Performance Reports) system.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Texas enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Texas enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2013-2025 (years may limited data different formats). tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download TEA.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Texas enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Texas enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific district austin_isd <- enr_2024 %>%   dplyr::filter(district_id == \"101912\") } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi %>%   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from TEA — get_raw_enr","title":"Download raw enrollment data from TEA — get_raw_enr","text":"Downloads campus district enrollment data Texas Academic Performance Reports (TAPR) system.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from TEA — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from TEA — get_raw_enr","text":"end_year School year end (2023-24 = 2024)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from TEA — get_raw_enr","text":"List campus district data frames","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Get column mappings for TAPR data — get_tapr_column_map","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"Returns list mapping TAPR column names standardized names. TAPR uses specific naming convention: First char: C=Campus, D=District, R=Region, S=State PET: Student membership/enrollment Suffix: demographic program code","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"","code":"get_tapr_column_map()"},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"Named list column mappings","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details. See dplyr::%>% details.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs  lhs %>% rhs"},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs). result calling rhs(lhs).","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process campus-level enrollment data — process_campus_enr","title":"Process campus-level enrollment data — process_campus_enr","text":"Process campus-level enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process campus-level enrollment data — process_campus_enr","text":"","code":"process_campus_enr(df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process campus-level enrollment data — process_campus_enr","text":"df Raw campus data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process campus-level enrollment data — process_campus_enr","text":"Processed campus data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Process district-level enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"df Raw district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw TEA enrollment data — process_enr","title":"Process raw TEA enrollment data — process_enr","text":"Transforms raw TAPR data standardized schema combining campus district data.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw TEA enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw TEA enrollment data — process_enr","text":"raw_data List containing campus district data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw TEA enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"TEA uses various markers suppressed data (*, <5, -1, etc.) may use commas large numbers.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Downloads processes school data Texas Education Agency (TEA). Provides functions fetching enrollment data PEIMS (Public Education Information Management System) via TAPR (Texas Academic Performance Reports) system transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Texas uses hierarchical ID system: District IDs: 6 digits (e.g., 101912 = Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Data sourced Texas Education Agency's TAPR system: TAPR: https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting/texas-academic-performance-reports PEIMS: https://tea.texas.gov/reports--data/school-data/peims-data","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
