[{"path":[]},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"commit-and-pr-guidelines","dir":"","previous_headings":"","what":"Commit and PR Guidelines","title":"Claude Code Instructions for txschooldata","text":"include “Generated Claude Code” commit messages include “Co-Authored-: Claude” commit messages mention Claude AI assistance PR descriptions Keep commit messages clean professional","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"project-context","dir":"","previous_headings":"","what":"Project Context","title":"Claude Code Instructions for txschooldata","text":"R package fetching processing Texas school data Texas Education Agency (TEA).","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"key-data-characteristics","dir":"","previous_headings":"Project Context","what":"Key Data Characteristics","title":"Claude Code Instructions for txschooldata","text":"Data Source: Texas Education Agency (TEA) https://tea.texas.gov/reports--data District IDs: 6 digits (e.g., 101912 Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number) Primary Data System: PEIMS (Public Education Information Management System) Number Districts: ~1,209","code":""},{"path":"https://almartin82.github.io/txschooldata/CLAUDE.html","id":"package-structure","dir":"","previous_headings":"","what":"Package Structure","title":"Claude Code Instructions for txschooldata","text":"package follows patterns ilschooldata: - fetch_enrollment.R - Main user-facing function - get_raw_enrollment.R - Download raw data TEA - process_enrollment.R - Process raw data standard schema - tidy_enrollment.R - Transform long format - cache.R - Local caching functions","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"txschooldata Product Requirements Document","text":"txschooldata R package fetching, processing, analyzing school data Texas Education Agency (TEA). provides programmatic interface PEIMS (Public Education Information Management System) data, enabling researchers, analysts, education policy professionals easily access Texas public school data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"the-problem","dir":"","previous_headings":"Background","what":"The Problem","title":"txschooldata Product Requirements Document","text":"Texas public school data scattered across multiple TEA reports data files, inconsistent formats across years. Researchers analysts spend significant time: - Finding correct data files TEA website - Understanding changing file formats column names - Writing custom parsing code data file - Dealing suppressed values data quality issues","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"the-opportunity","dir":"","previous_headings":"Background","what":"The Opportunity","title":"txschooldata Product Requirements Document","text":"well-designed R package can: - Provide single, consistent API accessing Texas school data - Handle format changes transparently across years - Cache data locally reduce repeated downloads - Transform data analysis-ready tidy format","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"tac-611040---state-data-reporting-requirements","dir":"","previous_headings":"Regulatory Context","what":"TAC 61.1040 - State Data Reporting Requirements","title":"txschooldata Product Requirements Document","text":"Texas Administrative Code (TAC) 61.1040 establishes requirements educational data reporting. Districts must submit data PEIMS, creating standardized data collection package can leverage.","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"september-2025-bid-threshold-change","dir":"","previous_headings":"Regulatory Context","what":"September 2025 Bid Threshold Change","title":"txschooldata Product Requirements Document","text":"Texas procurement bid threshold changing $100,000 September 2025 ($50,000). affects: - District purchasing decisions data analytics tools - Potential market opportunity self-service data tools - Timing considerations package development marketing","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"primary-source-texas-education-agency-tea","dir":"","previous_headings":"Data Sources","what":"Primary Source: Texas Education Agency (TEA)","title":"txschooldata Product Requirements Document","text":"Website: https://tea.texas.gov/reports--data Key Data Collections: Comprehensive student, staff, financial data Submitted districts fall, mid-year, summer, extended-year Available : https://tea.texas.gov/reports--data/school-data/peims-data School district performance data Demographic breakdowns Available : https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting Student counts grade, demographic, program Historical data available","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id-system","dir":"","previous_headings":"Data Sources","what":"ID System","title":"txschooldata Product Requirements Document","text":"Texas uses hierarchical ID system: First 3 digits: County-district number Last 3 digits: District within county Example: 101912 = Austin ISD (Travis County) First 6 digits: District ID Last 3 digits: Campus number within district Example: 101912001 = First campus Austin ISD","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"data-scope","dir":"","previous_headings":"Data Sources","what":"Data Scope","title":"txschooldata Product Requirements Document","text":"Number Districts: ~1,209 (2023-24) Number Campuses: ~9,000+ Student Population: ~5.5 million students Historical Data: Generally available back 2005 earlier","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id_1-enrollment-data","dir":"","previous_headings":"Functional Requirements > Core Functions","what":"1. Enrollment Data","title":"txschooldata Product Requirements Document","text":"","code":"# Fetch enrollment data for a given school year fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)  # Get raw enrollment data (internal) get_raw_enr(end_year)  # Process raw data to standard schema (internal) process_enr(df, end_year)  # Transform to tidy format tidy_enr(df)"},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"id_2-caching","dir":"","previous_headings":"Functional Requirements > Core Functions","what":"2. Caching","title":"txschooldata Product Requirements Document","text":"","code":"# Check if cached data exists cache_exists(end_year, type)  # Read from cache read_cache(end_year, type)  # Write to cache write_cache(df, end_year, type)  # Clear cache clear_cache(end_year = NULL, type = NULL)"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"dependencies","dir":"","previous_headings":"Technical Requirements","what":"Dependencies","title":"txschooldata Product Requirements Document","text":"R >= 4.0 dplyr, tidyr, purrr (tidyverse data manipulation) readxl, readr (file reading) downloader (robust file downloads) rappdirs (cross-platform cache directory) stringr (string manipulation) rlang (programming utilities)","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"caching","dir":"","previous_headings":"Technical Requirements","what":"Caching","title":"txschooldata Product Requirements Document","text":"Use rappdirs::user_cache_dir(\"txschooldata\") cache location Store .rds files fast R-native read/write Cache key: {type}_{end_year}.rds Provide cache management functions","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"error-handling","dir":"","previous_headings":"Technical Requirements","what":"Error Handling","title":"txschooldata Product Requirements Document","text":"Graceful degradation TEA website unavailable Clear error messages invalid year parameters Warnings data quality issues (suppression, etc.)","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"performance","dir":"","previous_headings":"Non-Functional Requirements","what":"Performance","title":"txschooldata Product Requirements Document","text":"First fetch: < 30 seconds per year Cached fetch: < 1 second Memory: Handle full state dataset (~100K rows)","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"compatibility","dir":"","previous_headings":"Non-Functional Requirements","what":"Compatibility","title":"txschooldata Product Requirements Document","text":"R >= 4.0 Cross-platform (Windows, macOS, Linux) Work tidyverse workflows","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"documentation","dir":"","previous_headings":"Non-Functional Requirements","what":"Documentation","title":"txschooldata Product Requirements Document","text":"Roxygen2 documentation exported functions Package vignettes common use cases Examples function documentation","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-1-core-enrollment-data-mvp","dir":"","previous_headings":"Implementation Phases","what":"Phase 1: Core Enrollment Data (MVP)","title":"txschooldata Product Requirements Document","text":"Basic fetch_enr() recent years (2020+) Local caching Tidy format transformation Basic documentation","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-2-historical-data","dir":"","previous_headings":"Implementation Phases","what":"Phase 2: Historical Data","title":"txschooldata Product Requirements Document","text":"Support legacy file formats (pre-2020) Handle format changes across years Consistent schema across years","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-3-additional-data-types","dir":"","previous_headings":"Implementation Phases","what":"Phase 3: Additional Data Types","title":"txschooldata Product Requirements Document","text":"STAAR assessment data Staff/teacher data Financial data Graduation/dropout rates","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"phase-4-advanced-features","dir":"","previous_headings":"Implementation Phases","what":"Phase 4: Advanced Features","title":"txschooldata Product Requirements Document","text":"Multi-year data fetching Data validation quality checks Cohort tracking utilities Enrollment projections","code":""},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"success-metrics","dir":"","previous_headings":"","what":"Success Metrics","title":"txschooldata Product Requirements Document","text":"Successfully fetch data available years 100% exported functions documented Test coverage > 80% CRAN-ready (pass R CMD check)","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/PRD.html","id":"references","dir":"","previous_headings":"","what":"References","title":"txschooldata Product Requirements Document","text":"Texas Education Agency: https://tea.texas.gov PEIMS Data Standards: https://tea.texas.gov/reports--data/data-submission/peims TEA Data Portal: https://tea.texas.gov/reports--data TAC 61.1040: https://texreg.sos.state.tx.us/public/readtac$ext.TacPage?sl=R&app=9&p_dir=&p_rloc=&p_tloc=&p_ploc=&pg=1&p_tac=&ti=19&pt=2&ch=61&rl=1040","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Quality Analysis","text":"vignette performs quality assurance checks Texas public school enrollment data Texas Education Agency (TEA). analyze statewide trends examine data major districts identify anomalies data quality issues.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"data-coverage","dir":"Articles","previous_headings":"","what":"Data Coverage","title":"Data Quality Analysis","text":"TEA enrollment data available TAPR (Texas Academic Performance Reports) system 2020 onwards via current download interface.","code":"library(txschooldata) library(dplyr) library(ggplot2) library(scales)"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"multi-year-download","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Multi-Year Download","title":"Data Quality Analysis","text":"","code":"# Download enrollment data for available years years <- 2020:2024 enr_multi <- fetch_enr_multi(years)  # State-level total enrollment by year state_totals <- enr_multi %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   arrange(end_year)  print(state_totals) ##   end_year n_students ## 1     2020    5479173 ## 2     2021    5359040 ## 3     2022    5402928 ## 4     2023    5504150 ## 5     2024    5517464"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"statewide-enrollment-trend","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Statewide Enrollment Trend","title":"Data Quality Analysis","text":"","code":"state_totals %>%   ggplot(aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#003366\") +   geom_point(size = 3, color = \"#003366\") +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(     title = \"Texas Public School Enrollment\",     subtitle = \"Total K-12 enrollment, 2020-2024\",     x = \"School Year (End)\",     y = \"Total Students\",     caption = \"Source: Texas Education Agency TAPR\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\", size = 14),     panel.grid.minor = element_blank()   )"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"year-over-year-changes","dir":"Articles","previous_headings":"Statewide Enrollment Analysis","what":"Year-over-Year Changes","title":"Data Quality Analysis","text":"","code":"# Calculate year-over-year changes state_changes <- state_totals %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (change / prev_year) * 100   ) %>%   filter(!is.na(prev_year))  print(state_changes) ##   end_year n_students prev_year  change pct_change ## 1     2021    5359040   5479173 -120133 -2.1925389 ## 2     2022    5402928   5359040   43888  0.8189526 ## 3     2023    5504150   5402928  101222  1.8734656 ## 4     2024    5517464   5504150   13314  0.2418902 # Flag any jumps greater than 5% large_changes <- state_changes %>%   filter(abs(pct_change) > 5)  if (nrow(large_changes) > 0) {   cat(\"\\n** DATA QUALITY ALERT: Year-over-year changes exceeding 5%:\\n\")   print(large_changes) } else {   cat(\"\\n** All year-over-year changes are within +/- 5% threshold.\\n\") } ##  ## ** All year-over-year changes are within +/- 5% threshold."},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"major-district-analysis","dir":"Articles","previous_headings":"","what":"Major District Analysis","title":"Data Quality Analysis","text":"Texas 1,200 school districts. focus 5 largest urban districts detailed quality checks: Houston ISD (101912) - Largest district Texas Dallas ISD (057905) - Second largest San Antonio ISD (015907) - Major urban district Fort Worth ISD (220905) - Major urban district Austin ISD (227901) - State capital","code":"# Define major districts to analyze major_districts <- tibble(   district_id = c(\"101912\", \"057905\", \"015907\", \"220905\", \"227901\"),   district_label = c(\"Houston ISD\", \"Dallas ISD\", \"San Antonio ISD\",                      \"Fort Worth ISD\", \"Austin ISD\") )  # Extract enrollment for major districts district_trends <- enr_multi %>%   filter(     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\",     district_id %in% major_districts$district_id   ) %>%   left_join(major_districts, by = \"district_id\") %>%   select(end_year, district_id, district_label, n_students) %>%   arrange(district_label, end_year)  # Display current enrollment current_enrollment <- district_trends %>%   filter(end_year == max(end_year)) %>%   arrange(desc(n_students))  print(current_enrollment) ##   end_year district_id  district_label n_students ## 1     2024      101912     Houston ISD     183603 ## 2     2024      057905      Dallas ISD     139096 ## 3     2024      227901      Austin ISD      72739 ## 4     2024      220905  Fort Worth ISD      70903 ## 5     2024      015907 San Antonio ISD      44635"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"district-enrollment-trends","dir":"Articles","previous_headings":"Major District Analysis","what":"District Enrollment Trends","title":"Data Quality Analysis","text":"","code":"district_trends %>%   ggplot(aes(x = end_year, y = n_students, color = district_label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = comma) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Major Texas District Enrollment Trends\",     subtitle = \"2020-2024 school years\",     x = \"School Year (End)\",     y = \"Total Students\",     color = \"District\",     caption = \"Source: Texas Education Agency TAPR\"   ) +   theme_minimal() +   theme(     legend.position = \"right\",     plot.title = element_text(face = \"bold\", size = 14),     panel.grid.minor = element_blank()   )"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"district-year-over-year-changes","dir":"Articles","previous_headings":"Major District Analysis","what":"District Year-over-Year Changes","title":"Data Quality Analysis","text":"","code":"district_changes <- district_trends %>%   group_by(district_label) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = round((change / prev_year) * 100, 2)   ) %>%   filter(!is.na(prev_year)) %>%   ungroup()  # Pivot to show changes by year district_change_summary <- district_changes %>%   select(district_label, end_year, pct_change) %>%   tidyr::pivot_wider(names_from = end_year, values_from = pct_change)  print(district_change_summary) ## # A tibble: 5 × 2 ##   district_label  `2024` ##   <chr>            <dbl> ## 1 Austin ISD       -9.89 ## 2 Dallas ISD       -9.55 ## 3 Fort Worth ISD  -14.3  ## 4 Houston ISD     -12.3  ## 5 San Antonio ISD  -7.96 # Flag large changes large_district_changes <- district_changes %>%   filter(abs(pct_change) > 5)  if (nrow(large_district_changes) > 0) {   cat(\"\\n** DATA QUALITY ALERT: District changes exceeding 5%:\\n\")   print(large_district_changes %>%         select(district_label, end_year, n_students, change, pct_change)) } else {   cat(\"\\n** All major district changes are within +/- 5% threshold.\\n\") } ##  ## ** DATA QUALITY ALERT: District changes exceeding 5%: ## # A tibble: 5 × 5 ##   district_label  end_year n_students change pct_change ##   <chr>              <dbl>      <dbl>  <dbl>      <dbl> ## 1 Austin ISD          2024      72739  -7979      -9.89 ## 2 Dallas ISD          2024     139096 -14688      -9.55 ## 3 Fort Worth ISD      2024      70903 -11801     -14.3  ## 4 Houston ISD         2024     183603 -25706     -12.3  ## 5 San Antonio ISD     2024      44635  -3860      -7.96"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"demographic-breakdown-validation","dir":"Articles","previous_headings":"","what":"Demographic Breakdown Validation","title":"Data Quality Analysis","text":"Check demographic subgroups sum approximately total enrollment:","code":"# Get 2024 state demographic data state_2024 <- enr_multi %>%   filter(is_state, end_year == 2024, grade_level == \"TOTAL\") %>%   select(subgroup, n_students)  # Total enrollment total <- state_2024 %>%   filter(subgroup == \"total_enrollment\") %>%   pull(n_students)  # Race/ethnicity subgroups race_groups <- c(\"white\", \"black\", \"hispanic\", \"asian\",                  \"native_american\", \"pacific_islander\", \"multiracial\") race_sum <- state_2024 %>%   filter(subgroup %in% race_groups) %>%   summarize(sum = sum(n_students, na.rm = TRUE)) %>%   pull(sum)  cat(\"Total Enrollment:\", comma(total), \"\\n\") ## Total Enrollment: 5,517,464 cat(\"Sum of Race/Ethnicity Groups:\", comma(race_sum), \"\\n\") ## Sum of Race/Ethnicity Groups: 5,517,464 cat(\"Difference:\", comma(total - race_sum),     \"(\", round((total - race_sum) / total * 100, 2), \"%)\\n\") ## Difference: 0 ( 0 %) # This difference may be due to students with unknown race/ethnicity if (abs(total - race_sum) / total > 0.05) {   cat(\"\\n** DATA QUALITY NOTE: Race/ethnicity categories don't sum to total.\\n\")   cat(\"   This may indicate missing demographic data or students with unknown race.\\n\") }"},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"grade-level-validation","dir":"Articles","previous_headings":"","what":"Grade Level Validation","title":"Data Quality Analysis","text":"Check individual grade enrollments sum approximately total enrollment:","code":"# Get grade-level enrollment for 2024 state grades <- c(\"EE\", \"PK\", \"K\", \"01\", \"02\", \"03\", \"04\", \"05\",             \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")  grade_sum <- enr_multi %>%   filter(is_state, end_year == 2024,          subgroup == \"total_enrollment\",          grade_level %in% grades) %>%   summarize(sum = sum(n_students, na.rm = TRUE)) %>%   pull(sum)  cat(\"Total Enrollment:\", comma(total), \"\\n\") ## Total Enrollment: 5,517,464 cat(\"Sum of Grade Levels:\", comma(grade_sum), \"\\n\") ## Sum of Grade Levels: 5,517,464 cat(\"Difference:\", comma(total - grade_sum),     \"(\", round((total - grade_sum) / total * 100, 2), \"%)\\n\") ## Difference: 0 ( 0 %) if (abs(total - grade_sum) / total > 0.05) {   cat(\"\\n** DATA QUALITY NOTE: Grade levels don't sum to total.\\n\")   cat(\"   This may indicate ungraded students or data reporting differences.\\n\") }"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"issues-identified","dir":"Articles","previous_headings":"Data Quality Summary","what":"Issues Identified","title":"Data Quality Analysis","text":"","code":"issues <- character()  # Check for large state-level changes if (nrow(large_changes) > 0) {   issues <- c(issues, paste(     \"Statewide enrollment changes >5% in:\",     paste(large_changes$end_year, collapse = \", \")   )) }  # Check for large district changes if (nrow(large_district_changes) > 0) {   issues <- c(issues, paste(     \"Major district changes >5%:\",     nrow(large_district_changes), \"instances\"   )) }  # Print summary cat(\"=== Data Quality Summary ===\\n\\n\") ## === Data Quality Summary === cat(\"Years Analyzed:\", min(years), \"-\", max(years), \"\\n\") ## Years Analyzed: 2020 - 2024 cat(\"Total State Records:\", comma(nrow(enr_multi)), \"\\n\") ## Total State Records: 1,281,090 cat(\"Districts in Dataset:\",     enr_multi %>% filter(is_district) %>% distinct(district_id) %>% nrow(), \"\\n\") ## Districts in Dataset: 2428 cat(\"Campuses in Dataset:\",     enr_multi %>% filter(is_campus) %>% distinct(campus_id) %>% nrow(), \"\\n\\n\") ## Campuses in Dataset: 18756 if (length(issues) > 0) {   cat(\"Issues Found:\\n\")   for (issue in issues) {     cat(\"  -\", issue, \"\\n\")   } } else {   cat(\"No major data quality issues identified.\\n\") } ## Issues Found: ##   - Major district changes >5%: 5 instances"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"data-source","dir":"Articles","previous_headings":"Notes","what":"Data Source","title":"Data Quality Analysis","text":"data comes Texas Education Agency’s TAPR (Texas Academic Performance Reports) system: https://rptsvr1.tea.texas.gov/perfreport/tapr/","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"known-limitations","dir":"Articles","previous_headings":"Notes","what":"Known Limitations","title":"Data Quality Analysis","text":"Historical Data: current download interface supports years 2020 later. Earlier years may require different data sources. COVID-19 Impact: 2020-2021 school year saw significant enrollment disruptions due COVID-19 pandemic. unusual patterns period interpreted context. Charter Schools: Charter school data included district totals. is_charter flag can used separate traditional public schools charter operators. Data Masking: TEA applies data masking protect student privacy small subgroups. Masked values appear NA data.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/data-quality-qa.html","id":"update-schedule","dir":"Articles","previous_headings":"Notes","what":"Update Schedule","title":"Data Quality Analysis","text":"TEA releases TAPR data annually, typically fall following end school year. 2023-24 data (end_year = 2024) represents recent complete school year.","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with txschooldata","text":"Install GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/txschooldata\")"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"quick-example","dir":"Articles","previous_headings":"","what":"Quick Example","title":"Getting Started with txschooldata","text":"Fetch recent year Texas enrollment data:","code":"library(txschooldata) library(dplyr)  # Fetch 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  head(enr)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"understanding-the-data","dir":"Articles","previous_headings":"","what":"Understanding the Data","title":"Getting Started with txschooldata","text":"data returned tidy (long) format default: row one subgroup one district/campus/state subgroup identifies demographic group (e.g., “total_enrollment”, “white”, “hispanic”, “econ_disadv”) grade_level shows grade (“TOTAL”, “K”, “01”, “02”, etc.) n_students enrollment count pct percentage total enrollment","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"available-subgroups","dir":"Articles","previous_headings":"Understanding the Data","what":"Available Subgroups","title":"Getting Started with txschooldata","text":"Demographics: - white, black, hispanic, asian - native_american, pacific_islander, multiracial Special Populations: - special_ed - Students receiving special education services - lep - Limited English Proficiency students - econ_disadv - Economically disadvantaged students Totals: - total_enrollment - students","code":"enr |>   filter(is_state) |>   select(end_year, type, subgroup, grade_level, n_students) |>   head(10)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"texas-campus-and-district-id-system","dir":"Articles","previous_headings":"","what":"Texas Campus and District ID System","title":"Getting Started with txschooldata","text":"Texas uses hierarchical ID system districts campuses: District IDs: 6 digits (e.g., 101912 Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number) first 6 digits campus ID identify district:","code":"# Campus ID breakdown campus_id <- \"101912001\" district_id <- substr(campus_id, 1, 6)   # \"101912\" (Austin ISD) campus_num <- substr(campus_id, 7, 9)     # \"001\" (first campus)  # View district data enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(district_id, district_name, n_students) |>   head(5)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"filtering-by-aggregation-level","dir":"Articles","previous_headings":"","what":"Filtering by Aggregation Level","title":"Getting Started with txschooldata","text":"Use boolean flags filter data specific levels:","code":"# State totals state <- enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") state |> select(end_year, n_students)  # All districts districts <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") nrow(districts)  # ~1,200 districts  # All campuses campuses <- enr |>   filter(is_campus, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") nrow(campuses)  # ~9,000+ schools"},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"top-10-districts-by-enrollment","dir":"Articles","previous_headings":"Common Analysis Examples","what":"Top 10 Districts by Enrollment","title":"Getting Started with txschooldata","text":"","code":"enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"demographic-breakdown-for-a-district","dir":"Articles","previous_headings":"Common Analysis Examples","what":"Demographic Breakdown for a District","title":"Getting Started with txschooldata","text":"","code":"# Austin ISD demographics enr |>   filter(     district_id == \"101912\",     is_district,     grade_level == \"TOTAL\",     subgroup != \"total_enrollment\"   ) |>   arrange(desc(n_students)) |>   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"compare-charter-vs-traditional-districts","dir":"Articles","previous_headings":"Common Analysis Examples","what":"Compare Charter vs Traditional Districts","title":"Getting Started with txschooldata","text":"","code":"# Total enrollment by charter status enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(is_charter) |>   summarize(     n_districts = n(),     total_students = sum(n_students, na.rm = TRUE),     avg_enrollment = mean(n_students, na.rm = TRUE)   )"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"wide-format","dir":"Articles","previous_headings":"","what":"Wide Format","title":"Getting Started with txschooldata","text":"prefer wide format (one column per demographic), set tidy = FALSE: Wide format columns include: - row_total - Total enrollment - white, black, hispanic, asian, etc. - Demographic counts - grade_ee, grade_pk, grade_k, grade_01 grade_12 - Grade-level counts","code":"enr_wide <- fetch_enr(2024, tidy = FALSE)  enr_wide |>   filter(type == \"State\") |>   select(end_year, row_total, white, black, hispanic, asian, econ_disadv)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"historical-data","dir":"Articles","previous_headings":"","what":"Historical Data","title":"Getting Started with txschooldata","text":"Fetch multiple years analyze trends using fetch_enr_multi():","code":"# Fetch 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # State enrollment trend enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"visualizing-enrollment-trends","dir":"Articles","previous_headings":"","what":"Visualizing Enrollment Trends","title":"Getting Started with txschooldata","text":"","code":"library(ggplot2) library(scales)  # Fetch multiple years enr_multi <- fetch_enr_multi(2020:2024)  # Plot state enrollment over time enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   ggplot(aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1, color = \"#002868\") +   geom_point(size = 3, color = \"#002868\") +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(     title = \"Texas Public School Enrollment\",     subtitle = \"Total K-12 enrollment by school year\",     x = \"School Year (End)\",     y = \"Total Students\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"demographic-trends","dir":"Articles","previous_headings":"Visualizing Enrollment Trends","what":"Demographic Trends","title":"Getting Started with txschooldata","text":"","code":"# Plot demographic composition over time enr_multi |>   filter(     is_state,     subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\"),     grade_level == \"TOTAL\"   ) |>   ggplot(aes(x = end_year, y = pct, color = subgroup)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = percent_format()) +   labs(     title = \"Texas Public School Demographics\",     x = \"School Year (End)\",     y = \"Percent of Total Enrollment\",     color = \"Subgroup\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"charter-schools","dir":"Articles","previous_headings":"","what":"Charter Schools","title":"Getting Started with txschooldata","text":"Filter charter schools using is_charter flag:","code":"# Top charter districts enr |>   filter(is_district, is_charter, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)  # Charter school growth enr_multi |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(end_year, is_charter) |>   summarize(     n_districts = n(),     total_students = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"grade-level-aggregations","dir":"Articles","previous_headings":"","what":"Grade-Level Aggregations","title":"Getting Started with txschooldata","text":"Use enr_grade_aggs() create common grade groupings (K-8, High School, K-12):","code":"# Create K-8, HS, and K-12 aggregates grade_aggs <- enr_grade_aggs(enr)  # View K-12 enrollment by district grade_aggs |>   filter(is_district, grade_level == \"K12\") |>   arrange(desc(n_students)) |>   select(district_name, grade_level, n_students) |>   head(10)  # Compare K-8 vs HS enrollment at state level grade_aggs |>   filter(is_state) |>   select(grade_level, n_students)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with txschooldata","text":"Downloaded data cached locally speed subsequent requests: cache stored user data directory (via rappdirs). Cached data persists R sessions.","code":"# View cached files cache_status()  # Clear all cached data clear_cache()  # Clear specific year clear_cache(2024)"},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"data-quality-notes","dir":"Articles","previous_headings":"","what":"Data Quality Notes","title":"Getting Started with txschooldata","text":"Missing data: campuses may missing values certain demographics counts suppressed privacy Small counts: TEA may suppress counts certain thresholds Year coverage: Currently supports 2020-2025. Earlier years may use different data formats","code":""},{"path":"https://almartin82.github.io/txschooldata/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with txschooldata","text":"Use ?fetch_enr full function documentation Use ?tidy_enr data transformation details See ?id_enr_aggs understanding aggregation flags See ?enr_grade_aggs grade-level aggregations Visit pkgdown site complete API reference","code":""},{"path":"https://almartin82.github.io/txschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/txschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2025). txschooldata: Fetch Process Texas School Data. R package version 0.1.0, https://almartin82.github.io/txschooldata/.","code":"@Manual{,   title = {txschooldata: Fetch and Process Texas School Data},   author = {Al Martin},   year = {2025},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/txschooldata/}, }"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"txschooldata","dir":"","previous_headings":"","what":"Fetch and Process Texas School Data","title":"Fetch and Process Texas School Data","text":"R package fetching processing Texas school enrollment data Texas Education Agency (TEA) TAPR (Texas Academic Performance Reports) system.","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Fetch and Process Texas School Data","text":"txschooldata provides simple interface download, cache, analyze Texas public school enrollment data. package handles: - Downloading data TEA’s TAPR system - Processing raw data standardized schema - Transforming data tidy (long) format analysis - Local caching faster repeated access","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Fetch and Process Texas School Data","text":"Install development version GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/txschooldata\")"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Fetch and Process Texas School Data","text":"","code":"library(txschooldata) library(dplyr)  # Fetch 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  # View state-level enrollment enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)  # Top 10 districts by enrollment enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"wide-format","dir":"","previous_headings":"Quick Start","what":"Wide Format","title":"Fetch and Process Texas School Data","text":"prefer one column per demographic group:","code":"enr_wide <- fetch_enr(2024, tidy = FALSE)"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"multi-year-data","dir":"","previous_headings":"Quick Start","what":"Multi-Year Data","title":"Fetch and Process Texas School Data","text":"Fetch multiple years trend analysis:","code":"enr_multi <- fetch_enr_multi(2020:2024)  # State enrollment trend enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Fetch and Process Texas School Data","text":"Full documentation available pkgdown site.","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"available-data","dir":"","previous_headings":"","what":"Available Data","title":"Fetch and Process Texas School Data","text":"Years: 2020-2025 (school years 2019-20 2024-25) Subgroups: - Demographics: white, black, hispanic, asian, native_american, pacific_islander, multiracial - Special populations: special_ed, lep (limited English proficiency), econ_disadv (economically disadvantaged) - Grade levels: EE, PK, K, 01-12 Aggregation Levels: - State totals - District totals - Campus (school) level","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"data-source","dir":"","previous_headings":"","what":"Data Source","title":"Fetch and Process Texas School Data","text":"Data sourced Texas Education Agency (TEA) via TAPR (Texas Academic Performance Reports) system. PEIMS (Public Education Information Management System) state’s comprehensive data collection system public education.","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"campus-id-system","dir":"","previous_headings":"","what":"Campus ID System","title":"Fetch and Process Texas School Data","text":"Texas uses hierarchical identifier system: District IDs: 6 digits (e.g., 101912 Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number, e.g., 101912001)","code":"# Extract district from campus ID campus_id <- \"101912001\" district_id <- substr(campus_id, 1, 6)  # \"101912\""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"Fetch and Process Texas School Data","text":"njschooldata - Similar package New Jersey school data ilschooldata - Similar package Illinois school data","code":""},{"path":"https://almartin82.github.io/txschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Fetch and Process Texas School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/build_tapr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build TAPR download URL — build_tapr_url","title":"Build TAPR download URL — build_tapr_url","text":"Constructs download URL TAPR data file based year file type.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/build_tapr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build TAPR download URL — build_tapr_url","text":"","code":"build_tapr_url(end_year, file_type)"},{"path":"https://almartin82.github.io/txschooldata/reference/build_tapr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build TAPR download URL — build_tapr_url","text":"end_year School year end file_type One \"cref\", \"dref\", \"cstud\", \"dstud\", \"sref\", \"sstud\"","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/build_tapr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build TAPR download URL — build_tapr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the txschooldata cache — clear_cache","title":"Clear the txschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the txschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the txschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the txschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the txschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Create state-level aggregate district data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":null,"dir":"Reference","previous_headings":"","what":"Download combined TAPR reference and student data — download_tapr_combined","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"Downloads data TEA's TAPR system using GET requests SAS broker. function retrieves reference (ID, name) student (enrollment) data single request.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"","code":"download_tapr_combined(end_year, sumlev)"},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"end_year School year end sumlev Summary level: \"C\" campus, \"D\" district","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_combined.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download combined TAPR reference and student data — download_tapr_combined","text":"Data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a TAPR data file — download_tapr_file","title":"Download a TAPR data file — download_tapr_file","text":"Downloads parses single TAPR data file.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a TAPR data file — download_tapr_file","text":"","code":"download_tapr_file(end_year, file_type)"},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a TAPR data file — download_tapr_file","text":"end_year School year end file_type One \"cref\", \"dref\", \"cstud\", \"dstud\"","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/download_tapr_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a TAPR data file — download_tapr_file","text":"Data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Texas enrollment data — fetch_enr","title":"Fetch Texas enrollment data — fetch_enr","text":"Downloads processes enrollment data Texas Education Agency PEIMS data files via TAPR (Texas Academic Performance Reports) system.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Texas enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Texas enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2013-2025 (years may limited data different formats). tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download TEA.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Texas enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Texas enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific district austin_isd <- enr_2024 %>%   dplyr::filter(district_id == \"101912\") } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi %>%   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from TEA — get_raw_enr","title":"Download raw enrollment data from TEA — get_raw_enr","text":"Downloads campus district enrollment data Texas Academic Performance Reports (TAPR) system.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from TEA — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from TEA — get_raw_enr","text":"end_year School year end (2023-24 = 2024)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from TEA — get_raw_enr","text":"List campus district data frames","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Get column mappings for TAPR data — get_tapr_column_map","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"Returns list mapping TAPR column names standardized names. TAPR uses specific naming convention: First char: C=Campus, D=District, R=Region, S=State PET: Student membership/enrollment Suffix: demographic program code","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"","code":"get_tapr_column_map()"},{"path":"https://almartin82.github.io/txschooldata/reference/get_tapr_column_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get column mappings for TAPR data — get_tapr_column_map","text":"Named list column mappings","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/merge_tapr_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge TAPR reference and student data — merge_tapr_data","title":"Merge TAPR reference and student data — merge_tapr_data","text":"Joins reference data (names, IDs) student data (counts) based campus district ID.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/merge_tapr_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge TAPR reference and student data — merge_tapr_data","text":"","code":"merge_tapr_data(ref_data, stud_data, level)"},{"path":"https://almartin82.github.io/txschooldata/reference/merge_tapr_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge TAPR reference and student data — merge_tapr_data","text":"ref_data Reference data frame (cref dref) stud_data Student data frame (cstud dstud) level Either \"campus\" \"district\"","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/merge_tapr_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge TAPR reference and student data — merge_tapr_data","text":"Merged data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details. See dplyr::%>% details.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs  lhs %>% rhs"},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs). result calling rhs(lhs).","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process campus-level enrollment data — process_campus_enr","title":"Process campus-level enrollment data — process_campus_enr","text":"Process campus-level enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process campus-level enrollment data — process_campus_enr","text":"","code":"process_campus_enr(df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process campus-level enrollment data — process_campus_enr","text":"df Raw campus data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_campus_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process campus-level enrollment data — process_campus_enr","text":"Processed campus data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Process district-level enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(df, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"df Raw district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw TEA enrollment data — process_enr","title":"Process raw TEA enrollment data — process_enr","text":"Transforms raw TAPR data standardized schema combining campus district data.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw TEA enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw TEA enrollment data — process_enr","text":"raw_data List containing campus district data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw TEA enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"TEA uses various markers suppressed data (*, <5, -1, etc.) may use commas large numbers.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Downloads processes school data Texas Education Agency (TEA). Provides functions fetching enrollment data PEIMS (Public Education Information Management System) via TAPR (Texas Academic Performance Reports) system transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Texas uses hierarchical ID system: District IDs: 6 digits (e.g., 101912 = Austin ISD) Campus IDs: 9 digits (district ID + 3-digit campus number)","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Data sourced Texas Education Agency's TAPR system: TAPR: https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting/texas-academic-performance-reports PEIMS: https://tea.texas.gov/reports--data/school-data/peims-data","code":""},{"path":[]},{"path":"https://almartin82.github.io/txschooldata/reference/txschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"txschooldata: Fetch and Process Texas School Data — txschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/txschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
