<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>txschooldata Product Requirements Document • txschooldata</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="txschooldata Product Requirements Document"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">txschooldata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Featured Analysis</h6></li>
    <li><a class="dropdown-item" href="articles/district-hooks.html">10 Things You Didn't Know About Texas Schools</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="articles/quickstart.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/data-quality-qa.html">Data Quality Analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/almartin82/txschooldata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>txschooldata Product Requirements Document</h1>
      <small class="dont-index">Source: <a href="https://github.com/almartin82/txschooldata/blob/main/PRD.md" class="external-link"><code>PRD.md</code></a></small>
    </div>

<div id="txschooldata-product-requirements-document" class="section level1">

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>txschooldata is an R package for fetching, processing, and analyzing school data from the Texas Education Agency (TEA). It provides a programmatic interface to PEIMS (Public Education Information Management System) data, enabling researchers, analysts, and education policy professionals to easily access Texas public school data.</p>
</div>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a></h2>
<div class="section level3">
<h3 id="the-problem">The Problem<a class="anchor" aria-label="anchor" href="#the-problem"></a></h3>
<p>Texas public school data is scattered across multiple TEA reports and data files, with inconsistent formats across years. Researchers and analysts spend significant time: - Finding the correct data files on the TEA website - Understanding changing file formats and column names - Writing custom parsing code for each data file - Dealing with suppressed values and data quality issues</p>
</div>
<div class="section level3">
<h3 id="the-opportunity">The Opportunity<a class="anchor" aria-label="anchor" href="#the-opportunity"></a></h3>
<p>A well-designed R package can: - Provide a single, consistent API for accessing Texas school data - Handle format changes transparently across years - Cache data locally to reduce repeated downloads - Transform data into analysis-ready tidy format</p>
</div>
</div>
<div class="section level2">
<h2 id="regulatory-context">Regulatory Context<a class="anchor" aria-label="anchor" href="#regulatory-context"></a></h2>
<div class="section level3">
<h3 id="tac-611040---state-data-reporting-requirements">TAC 61.1040 - State Data Reporting Requirements<a class="anchor" aria-label="anchor" href="#tac-611040---state-data-reporting-requirements"></a></h3>
<p>Texas Administrative Code (TAC) 61.1040 establishes requirements for educational data reporting. Districts must submit data through PEIMS, creating a standardized data collection that this package can leverage.</p>
</div>
<div class="section level3">
<h3 id="september-2025-bid-threshold-change">September 2025 Bid Threshold Change<a class="anchor" aria-label="anchor" href="#september-2025-bid-threshold-change"></a></h3>
<p>The Texas procurement bid threshold is changing to $100,000 in September 2025 (from $50,000). This affects: - District purchasing decisions for data and analytics tools - Potential market opportunity for self-service data tools - Timing considerations for package development and marketing</p>
</div>
</div>
<div class="section level2">
<h2 id="data-sources">Data Sources<a class="anchor" aria-label="anchor" href="#data-sources"></a></h2>
<div class="section level3">
<h3 id="primary-source-texas-education-agency-tea">Primary Source: Texas Education Agency (TEA)<a class="anchor" aria-label="anchor" href="#primary-source-texas-education-agency-tea"></a></h3>
<p><strong>Website</strong>: <a href="https://tea.texas.gov/reports-and-data" class="external-link uri">https://tea.texas.gov/reports-and-data</a></p>
<p><strong>Key Data Collections</strong>:</p>
<ol style="list-style-type: decimal"><li>
<strong>PEIMS Data</strong>
<ul><li>Comprehensive student, staff, and financial data</li>
<li>Submitted by districts fall, mid-year, summer, and extended-year</li>
<li>Available at: <a href="https://tea.texas.gov/reports-and-data/school-data/peims-data" class="external-link uri">https://tea.texas.gov/reports-and-data/school-data/peims-data</a>
</li>
</ul></li>
<li>
<strong>Texas Academic Performance Reports (TAPR)</strong>
<ul><li>School and district performance data</li>
<li>Demographic breakdowns</li>
<li>Available at: <a href="https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting" class="external-link uri">https://tea.texas.gov/texas-schools/accountability/academic-accountability/performance-reporting</a>
</li>
</ul></li>
<li>
<strong>Enrollment Data</strong>
<ul><li>Student counts by grade, demographic, program</li>
<li>Historical data available</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="id-system">ID System<a class="anchor" aria-label="anchor" href="#id-system"></a></h3>
<p>Texas uses a hierarchical ID system:</p>
<ul><li>
<strong>District IDs</strong>: 6 digits
<ul><li>First 3 digits: County-district number</li>
<li>Last 3 digits: District within county</li>
<li>Example: 101912 = Austin ISD (Travis County)</li>
</ul></li>
<li>
<strong>Campus IDs</strong>: 9 digits
<ul><li>First 6 digits: District ID</li>
<li>Last 3 digits: Campus number within district</li>
<li>Example: 101912001 = First campus in Austin ISD</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="data-scope">Data Scope<a class="anchor" aria-label="anchor" href="#data-scope"></a></h3>
<ul><li>
<strong>Number of Districts</strong>: ~1,209 (2023-24)</li>
<li>
<strong>Number of Campuses</strong>: ~9,000+</li>
<li>
<strong>Student Population</strong>: ~5.5 million students</li>
<li>
<strong>Historical Data</strong>: Generally available back to 2005 or earlier</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="functional-requirements">Functional Requirements<a class="anchor" aria-label="anchor" href="#functional-requirements"></a></h2>
<div class="section level3">
<h3 id="core-functions">Core Functions<a class="anchor" aria-label="anchor" href="#core-functions"></a></h3>
<div class="section level4">
<h4 id="id_1-enrollment-data">1. Enrollment Data<a class="anchor" aria-label="anchor" href="#id_1-enrollment-data"></a></h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch enrollment data for a given school year</span></span>
<span><span class="fu"><a href="reference/fetch_enr.html">fetch_enr</a></span><span class="op">(</span><span class="va">end_year</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span>, use_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get raw enrollment data (internal)</span></span>
<span><span class="fu"><a href="reference/get_raw_enr.html">get_raw_enr</a></span><span class="op">(</span><span class="va">end_year</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Process raw data to standard schema (internal)</span></span>
<span><span class="fu"><a href="reference/process_enr.html">process_enr</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">end_year</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Transform to tidy format</span></span>
<span><span class="fu"><a href="reference/tidy_enr.html">tidy_enr</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-caching">2. Caching<a class="anchor" aria-label="anchor" href="#id_2-caching"></a></h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check if cached data exists</span></span>
<span><span class="fu"><a href="reference/cache_exists.html">cache_exists</a></span><span class="op">(</span><span class="va">end_year</span>, <span class="va">type</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read from cache</span></span>
<span><span class="fu"><a href="reference/read_cache.html">read_cache</a></span><span class="op">(</span><span class="va">end_year</span>, <span class="va">type</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write to cache</span></span>
<span><span class="fu"><a href="reference/write_cache.html">write_cache</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">end_year</span>, <span class="va">type</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear cache</span></span>
<span><span class="fu"><a href="reference/clear_cache.html">clear_cache</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="data-schema">Data Schema<a class="anchor" aria-label="anchor" href="#data-schema"></a></h3>
<div class="section level4">
<h4 id="standard-enrollment-schema-wide-format">Standard Enrollment Schema (Wide Format)<a class="anchor" aria-label="anchor" href="#standard-enrollment-schema-wide-format"></a></h4>
<table class="table"><colgroup><col width="29%"><col width="22%"><col width="48%"></colgroup><thead><tr class="header"><th>Column</th>
<th>Type</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>end_year</td>
<td>integer</td>
<td>School year end (2024 = 2023-24)</td>
</tr><tr class="even"><td>district_id</td>
<td>character</td>
<td>6-digit TEA district ID</td>
</tr><tr class="odd"><td>campus_id</td>
<td>character</td>
<td>9-digit TEA campus ID (or NA for district rows)</td>
</tr><tr class="even"><td>district_name</td>
<td>character</td>
<td>District name</td>
</tr><tr class="odd"><td>campus_name</td>
<td>character</td>
<td>Campus name (or NA for district rows)</td>
</tr><tr class="even"><td>type</td>
<td>character</td>
<td>“State”, “District”, “Campus”</td>
</tr><tr class="odd"><td>row_total</td>
<td>integer</td>
<td>Total enrollment</td>
</tr><tr class="even"><td>white</td>
<td>integer</td>
<td>White student count</td>
</tr><tr class="odd"><td>black</td>
<td>integer</td>
<td>Black/African American student count</td>
</tr><tr class="even"><td>hispanic</td>
<td>integer</td>
<td>Hispanic/Latino student count</td>
</tr><tr class="odd"><td>asian</td>
<td>integer</td>
<td>Asian student count</td>
</tr><tr class="even"><td>native_american</td>
<td>integer</td>
<td>American Indian/Alaska Native count</td>
</tr><tr class="odd"><td>pacific_islander</td>
<td>integer</td>
<td>Native Hawaiian/Pacific Islander count</td>
</tr><tr class="even"><td>multiracial</td>
<td>integer</td>
<td>Two or more races count</td>
</tr><tr class="odd"><td>special_ed</td>
<td>integer</td>
<td>Special education student count</td>
</tr><tr class="even"><td>lep</td>
<td>integer</td>
<td>Limited English Proficient count</td>
</tr><tr class="odd"><td>econ_disadv</td>
<td>integer</td>
<td>Economically disadvantaged count</td>
</tr><tr class="even"><td>grade_pk</td>
<td>integer</td>
<td>Pre-K enrollment</td>
</tr><tr class="odd"><td>grade_k</td>
<td>integer</td>
<td>Kindergarten enrollment</td>
</tr><tr class="even"><td>grade_01-12</td>
<td>integer</td>
<td>Grade 1-12 enrollment</td>
</tr></tbody></table></div>
<div class="section level4">
<h4 id="tidy-format-schema">Tidy Format Schema<a class="anchor" aria-label="anchor" href="#tidy-format-schema"></a></h4>
<table class="table"><thead><tr class="header"><th>Column</th>
<th>Type</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>end_year</td>
<td>integer</td>
<td>School year end</td>
</tr><tr class="even"><td>district_id</td>
<td>character</td>
<td>District ID</td>
</tr><tr class="odd"><td>campus_id</td>
<td>character</td>
<td>Campus ID</td>
</tr><tr class="even"><td>district_name</td>
<td>character</td>
<td>District name</td>
</tr><tr class="odd"><td>campus_name</td>
<td>character</td>
<td>Campus name</td>
</tr><tr class="even"><td>type</td>
<td>character</td>
<td>Aggregation level</td>
</tr><tr class="odd"><td>grade_level</td>
<td>character</td>
<td>“TOTAL”, “PK”, “K”, “01”-“12”</td>
</tr><tr class="even"><td>subgroup</td>
<td>character</td>
<td>“total_enrollment”, “white”, “black”, etc.</td>
</tr><tr class="odd"><td>n_students</td>
<td>integer</td>
<td>Student count</td>
</tr><tr class="even"><td>pct</td>
<td>numeric</td>
<td>Percentage of total (0-1)</td>
</tr></tbody></table></div>
</div>
</div>
<div class="section level2">
<h2 id="technical-requirements">Technical Requirements<a class="anchor" aria-label="anchor" href="#technical-requirements"></a></h2>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h3>
<ul><li>R &gt;= 4.0</li>
<li>dplyr, tidyr, purrr (tidyverse data manipulation)</li>
<li>readxl, readr (file reading)</li>
<li>downloader (robust file downloads)</li>
<li>rappdirs (cross-platform cache directory)</li>
<li>stringr (string manipulation)</li>
<li>rlang (programming utilities)</li>
</ul></div>
<div class="section level3">
<h3 id="caching">Caching<a class="anchor" aria-label="anchor" href="#caching"></a></h3>
<ul><li>Use <code>rappdirs::user_cache_dir("txschooldata")</code> for cache location</li>
<li>Store as .rds files for fast R-native read/write</li>
<li>Cache key: <code>{type}_{end_year}.rds</code>
</li>
<li>Provide cache management functions</li>
</ul></div>
<div class="section level3">
<h3 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a></h3>
<ul><li>Graceful degradation when TEA website is unavailable</li>
<li>Clear error messages for invalid year parameters</li>
<li>Warnings for data quality issues (suppression, etc.)</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="non-functional-requirements">Non-Functional Requirements<a class="anchor" aria-label="anchor" href="#non-functional-requirements"></a></h2>
<div class="section level3">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h3>
<ul><li>First fetch: &lt; 30 seconds per year</li>
<li>Cached fetch: &lt; 1 second</li>
<li>Memory: Handle full state dataset (~100K rows)</li>
</ul></div>
<div class="section level3">
<h3 id="compatibility">Compatibility<a class="anchor" aria-label="anchor" href="#compatibility"></a></h3>
<ul><li>R &gt;= 4.0</li>
<li>Cross-platform (Windows, macOS, Linux)</li>
<li>Work with tidyverse workflows</li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>Roxygen2 documentation for all exported functions</li>
<li>Package vignettes for common use cases</li>
<li>Examples in function documentation</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="implementation-phases">Implementation Phases<a class="anchor" aria-label="anchor" href="#implementation-phases"></a></h2>
<div class="section level3">
<h3 id="phase-1-core-enrollment-data-mvp">Phase 1: Core Enrollment Data (MVP)<a class="anchor" aria-label="anchor" href="#phase-1-core-enrollment-data-mvp"></a></h3>
<ol style="list-style-type: decimal"><li>Basic fetch_enr() for recent years (2020+)</li>
<li>Local caching</li>
<li>Tidy format transformation</li>
<li>Basic documentation</li>
</ol></div>
<div class="section level3">
<h3 id="phase-2-historical-data">Phase 2: Historical Data<a class="anchor" aria-label="anchor" href="#phase-2-historical-data"></a></h3>
<ol style="list-style-type: decimal"><li>Support for legacy file formats (pre-2020)</li>
<li>Handle format changes across years</li>
<li>Consistent schema across all years</li>
</ol></div>
<div class="section level3">
<h3 id="phase-3-additional-data-types">Phase 3: Additional Data Types<a class="anchor" aria-label="anchor" href="#phase-3-additional-data-types"></a></h3>
<ol style="list-style-type: decimal"><li>STAAR assessment data</li>
<li>Staff/teacher data</li>
<li>Financial data</li>
<li>Graduation/dropout rates</li>
</ol></div>
<div class="section level3">
<h3 id="phase-4-advanced-features">Phase 4: Advanced Features<a class="anchor" aria-label="anchor" href="#phase-4-advanced-features"></a></h3>
<ol style="list-style-type: decimal"><li>Multi-year data fetching</li>
<li>Data validation and quality checks</li>
<li>Cohort tracking utilities</li>
<li>Enrollment projections</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="success-metrics">Success Metrics<a class="anchor" aria-label="anchor" href="#success-metrics"></a></h2>
<ul><li>Successfully fetch data for all available years</li>
<li>100% of exported functions documented</li>
<li>Test coverage &gt; 80%</li>
<li>CRAN-ready (pass R CMD check)</li>
</ul></div>
<div class="section level2">
<h2 id="risks-and-mitigations">Risks and Mitigations<a class="anchor" aria-label="anchor" href="#risks-and-mitigations"></a></h2>
<table class="table"><thead><tr class="header"><th>Risk</th>
<th>Mitigation</th>
</tr></thead><tbody><tr class="odd"><td>TEA changes file formats</td>
<td>Version detection, graceful degradation</td>
</tr><tr class="even"><td>TEA removes historical data</td>
<td>Cache locally, document limitations</td>
</tr><tr class="odd"><td>Large file downloads</td>
<td>Progress indicators, chunked downloads</td>
</tr><tr class="even"><td>Data suppression</td>
<td>Clear NA handling, documentation</td>
</tr></tbody></table></div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
<ul><li>Texas Education Agency: <a href="https://tea.texas.gov" class="external-link uri">https://tea.texas.gov</a>
</li>
<li>PEIMS Data Standards: <a href="https://tea.texas.gov/reports-and-data/data-submission/peims" class="external-link uri">https://tea.texas.gov/reports-and-data/data-submission/peims</a>
</li>
<li>TEA Data Portal: <a href="https://tea.texas.gov/reports-and-data" class="external-link uri">https://tea.texas.gov/reports-and-data</a>
</li>
<li>TAC 61.1040: <a href="https://texreg.sos.state.tx.us/public/readtac%24ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=19&amp;pt=2&amp;ch=61&amp;rl=1040" class="external-link uri">https://texreg.sos.state.tx.us/public/readtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=19&amp;pt=2&amp;ch=61&amp;rl=1040</a>
</li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Al Martin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

